<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: AmAudioFile Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">AmAudioFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="AmAudioFile" --><!-- doxytag: inherits="AmBufferedAudio" -->
<p><a class="el" href="classAmAudio.html" title="base for classes that input or output audio.">AmAudio</a> implementation for file access.  
 <a href="classAmAudioFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AmAudioFile_8h_source.html">AmAudioFile.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AmAudioFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAmAudioFile.png" usemap="#AmAudioFile_map" alt=""/>
  <map id="AmAudioFile_map" name="AmAudioFile_map">
<area href="classAmBufferedAudio.html" alt="AmBufferedAudio" shape="rect" coords="166,112,322,136"/>
<area href="classAmAudio.html" title="base for classes that input or output audio." alt="AmAudio" shape="rect" coords="166,56,322,80"/>
<area href="classAmObject.html" alt="AmObject" shape="rect" coords="166,0,322,24"/>
<area href="classAmPrecodedFileInstance.html" alt="AmPrecodedFileInstance" shape="rect" coords="0,224,156,248"/>
<area href="classAudioFileEntry.html" title="AmAudioFile with filename and open flag." alt="AudioFileEntry" shape="rect" coords="166,224,322,248"/>
<area href="classDSMDisposableAudioFile.html" alt="DSMDisposableAudioFile" shape="rect" coords="332,224,488,248"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a> { <b>Read</b> = 1, 
<b>Write</b> = 2
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">open</a> (const string &amp;filename, <a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a> mode, bool is_tmp=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6982cc17eae24221d7c30f327b88ee72"></a><!-- doxytag: member="AmAudioFile::fpopen" ref="a6982cc17eae24221d7c30f327b88ee72" args="(const string &amp;filename, OpenMode mode, FILE *n_fp)" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>fpopen</b> (const string &amp;filename, <a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a> mode, FILE *n_fp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a76f181fd867dd4f18091d44be39819ba">rewind</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a572dcee1bc4273268d8cde31aa0dfca9">rewind</a> (unsigned int msec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#aa8f94b169ac6959be9492197566f86f8">forward</a> (unsigned int msec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a4711f1efcf927d0720d11e150598d456">getfp</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6fb6fda5e75208988e8fbfa7c35373b"></a><!-- doxytag: member="AmAudioFile::getMode" ref="af6fb6fda5e75208988e8fbfa7c35373b" args="()" -->
<a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getMode</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#ad31087828c880f9d8119fe0ab3b3d14f">getDataSize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#ab0577e9cf6fbb2085dd56067805bbf74">getLength</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a9e0cb652cd284a49f3db45825ded7a4e">getMimeType</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a064a0419db2f278c5c2224881e0ee269"></a><!-- doxytag: member="AmAudioFile::setCloseOnDestroy" ref="a064a0419db2f278c5c2224881e0ee269" args="(bool cod)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setCloseOnDestroy</b> (bool cod)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f31354e59f1d165b07e7737dfa34a15"></a><!-- doxytag: member="AmAudioFile::loop" ref="a5f31354e59f1d165b07e7737dfa34a15" args="" -->
<a class="el" href="classAmSharedVar.html">AmSharedVar</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>loop</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2deb211766251ea67d3c8e449e98827"></a><!-- doxytag: member="AmAudioFile::autorewind" ref="ab2deb211766251ea67d3c8e449e98827" args="" -->
<a class="el" href="classAmSharedVar.html">AmSharedVar</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>autorewind</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#ae9c19d74cd2c454fe08c5a4dd2fd6b00">read</a> (unsigned int user_ts, unsigned int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#abe1c2f2626355032c600db72498da456">write</a> (unsigned int user_ts, unsigned int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classAmAudioFileFormat.html">AmAudioFileFormat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a5e3e0313653f8f2b994bfa069aa8833e">fileName2Fmt</a> (const string &amp;name, const string &amp;subtype)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a2004da2d1f1e28aa3b5616872d22feea">getSubtype</a> (string &amp;filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int</a> (const string &amp;filename, <a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a> mode, FILE *n_fp, const string &amp;subtype)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8c2ceb4c91c02efcfe8903701a2ee98"></a><!-- doxytag: member="AmAudioFile::begin" ref="ab8c2ceb4c91c02efcfe8903701a2ee98" args="" -->
long&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structamci__inoutfmt__t.html">amci_inoutfmt_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">iofmt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#a414b1c08b2ff5351a847f873f4a8642d">open_mode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9969e712ee2a23aa01447025cc58c506"></a><!-- doxytag: member="AmAudioFile::on_close_done" ref="a9969e712ee2a23aa01447025cc58c506" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>on_close_done</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a8de9c45294d8aec5adcff9d7afd232"></a><!-- doxytag: member="AmAudioFile::close_on_exit" ref="a4a8de9c45294d8aec5adcff9d7afd232" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>close_on_exit</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classAmAudio.html" title="base for classes that input or output audio.">AmAudio</a> implementation for file access. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a03db046f22b22f95ea2a395b9c205b67"></a><!-- doxytag: member="AmAudioFile::OpenMode" ref="a03db046f22b22f95ea2a395b9c205b67" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">AmAudioFile::OpenMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open mode. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a28fa15e223db939d56559e95de67e51d"></a><!-- doxytag: member="AmAudioFile::close" ref="a28fa15e223db939d56559e95de67e51d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">AmAudioFile::close</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Closes the file. </p>

<p>Reimplemented from <a class="el" href="classAmAudio.html#a6c98dbfb50c265063b528f0f8ad9ecac">AmAudio</a>.</p>

<p>References <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, and <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close()</a>.</p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, <a class="el" href="classAnnRecorderDialog.html#af35ea2ec8497e3208b5556045dc997ca">AnnRecorderDialog::onDtmf()</a>, <a class="el" href="classEarlyRecordDialog.html#a5bf881f98de1da6fa9a8e39977a338e2">EarlyRecordDialog::onSessionStart()</a>, and <a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">open()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e3e0313653f8f2b994bfa069aa8833e"></a><!-- doxytag: member="AmAudioFile::fileName2Fmt" ref="a5e3e0313653f8f2b994bfa069aa8833e" args="(const string &amp;name, const string &amp;subtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAmAudioFileFormat.html">AmAudioFileFormat</a> * <a class="el" href="classAmAudioFile.html#a5e3e0313653f8f2b994bfa069aa8833e">AmAudioFile::fileName2Fmt</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>subtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>a file format from file name. (ex: '1234.wav') </dd></dl>

<p>Reimplemented in <a class="el" href="classAmPrecodedFileInstance.html#aaea3b7c70e36b36f101379ccea6e983c">AmPrecodedFileInstance</a>.</p>

<p>References <a class="el" href="AmUtils_8cpp.html#a77a976f944f5573a8af6cacd1bcda019">file_extension()</a>, <a class="el" href="classAmPlugIn.html#aae9b52460c5da9e6bb95f66190f2b6c3">AmPlugIn::fileFormat()</a>, <a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">iofmt</a>, <a class="el" href="structamci__inoutfmt__t.html#a30a1342a8febb4c782c28e0353e53507">amci_inoutfmt_t::name</a>, <a class="el" href="classAmPlugIn.html#a484e25022f359efa486e72a4156de5ca">AmPlugIn::subtype()</a>, and <a class="el" href="structamci__subtype__t.html#a399fc64724a9bf21b5852ffc63b76229">amci_subtype_t::type</a>.</p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8f94b169ac6959be9492197566f86f8"></a><!-- doxytag: member="AmAudioFile::forward" ref="aa8f94b169ac6959be9492197566f86f8" args="(unsigned int msec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmAudioFile.html#aa8f94b169ac6959be9492197566f86f8">AmAudioFile::forward</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>msec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>skip forward some milliseconds. </p>

<p>References <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, <a class="el" href="classAmAudio.html#acdacbb5c83f7d814879088a5c4e625c9">AmAudio::fmt</a>, and <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>.</p>

</div>
</div>
<a class="anchor" id="a97890ccb25133807058ff80d3c63ec4d"></a><!-- doxytag: member="AmAudioFile::fpopen_int" ref="a97890ccb25133807058ff80d3c63ec4d" args="(const string &amp;filename, OpenMode mode, FILE *n_fp, const string &amp;subtype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">AmAudioFile::fpopen_int</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>n_fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>subtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>internal function for opening the file </p>

<p>References <a class="el" href="structamci__file__desc__t.html#a430888b7ac25e6ac2ec145d0c9817fa3">amci_file_desc_t::buffer_full_thresh</a>, <a class="el" href="structamci__file__desc__t.html#a6557244130af56f0de36d9b0617a7496">amci_file_desc_t::buffer_size</a>, <a class="el" href="structamci__file__desc__t.html#a4ae1eb86965187f4925cda50e569f1ea">amci_file_desc_t::buffer_thresh</a>, <a class="el" href="structamci__file__desc__t.html#abc5325f8fb95c8639a04c1db2da03548">amci_file_desc_t::channels</a>, <a class="el" href="classAmAudioFormat.html#a3f6a884fdaa91f8533e321c743200bf6">AmAudioFormat::channels</a>, <a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">close()</a>, <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, <a class="el" href="structamci__file__desc__t.html#a7e3a6bb6275e8cdcb422cf90c73b03f3">amci_file_desc_t::data_size</a>, <a class="el" href="classAmAudioFile.html#a5e3e0313653f8f2b994bfa069aa8833e">fileName2Fmt()</a>, <a class="el" href="classAmAudio.html#acdacbb5c83f7d814879088a5c4e625c9">AmAudio::fmt</a>, <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, <a class="el" href="classAmAudioFormat.html#a6ce85a665fe11d794cfb9a5f1878d11b">AmAudioFormat::getRate()</a>, <a class="el" href="classAmAudioFileFormat.html#a8ad6b2cf760086c667e536d61588a206">AmAudioFileFormat::getSubtypeId()</a>, <a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">iofmt</a>, <a class="el" href="structamci__inoutfmt__t.html#a09c355cdbb8589148efd6623b91d5531">amci_inoutfmt_t::open</a>, <a class="el" href="classAmAudioFile.html#a414b1c08b2ff5351a847f873f4a8642d">open_mode</a>, <a class="el" href="structamci__file__desc__t.html#adfff4b42193678bce3087d66e3416b75">amci_file_desc_t::rate</a>, <a class="el" href="classAmAudioFormat.html#a03d7242ee44f14fe7e62f7974dead94f">AmAudioFormat::setRate()</a>, and <a class="el" href="structamci__file__desc__t.html#ab3990ff0266657ea5782fa815ab31915">amci_file_desc_t::subtype</a>.</p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">open()</a>.</p>

</div>
</div>
<a class="anchor" id="ad31087828c880f9d8119fe0ab3b3d14f"></a><!-- doxytag: member="AmAudioFile::getDataSize" ref="ad31087828c880f9d8119fe0ab3b3d14f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#ad31087828c880f9d8119fe0ab3b3d14f">AmAudioFile::getDataSize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets data size in the current file </p>

<p>References <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>.</p>

</div>
</div>
<a class="anchor" id="a4711f1efcf927d0720d11e150598d456"></a><!-- doxytag: member="AmAudioFile::getfp" ref="a4711f1efcf927d0720d11e150598d456" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="classAmAudioFile.html#a4711f1efcf927d0720d11e150598d456">AmAudioFile::getfp</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>be carefull with this one ;-) </p>

<p>References <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>.</p>

</div>
</div>
<a class="anchor" id="ab0577e9cf6fbb2085dd56067805bbf74"></a><!-- doxytag: member="AmAudioFile::getLength" ref="ab0577e9cf6fbb2085dd56067805bbf74" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#ab0577e9cf6fbb2085dd56067805bbf74">AmAudioFile::getLength</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets length of the current file in ms </p>

<p>References <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, and <a class="el" href="classAmAudio.html#acdacbb5c83f7d814879088a5c4e625c9">AmAudio::fmt</a>.</p>

</div>
</div>
<a class="anchor" id="a9e0cb652cd284a49f3db45825ded7a4e"></a><!-- doxytag: member="AmAudioFile::getMimeType" ref="a9e0cb652cd284a49f3db45825ded7a4e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="classAmAudioFile.html#a9e0cb652cd284a49f3db45825ded7a4e">AmAudioFile::getMimeType</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>MIME type corresponding to the audio file. </dd></dl>

<p>References <a class="el" href="structamci__inoutfmt__t.html#a16d42e4bc865f81a02e98564bcb126a7">amci_inoutfmt_t::email_content_type</a>, and <a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">iofmt</a>.</p>

</div>
</div>
<a class="anchor" id="a2004da2d1f1e28aa3b5616872d22feea"></a><!-- doxytag: member="AmAudioFile::getSubtype" ref="a2004da2d1f1e28aa3b5616872d22feea" args="(string &amp;filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="classAmAudioFile.html#a2004da2d1f1e28aa3b5616872d22feea">AmAudioFile::getSubtype</a> </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="return"><dt><b>Returns:</b></dt><dd>subtype ID and trim filename if subtype embedded </dd></dl>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">open()</a>.</p>

</div>
</div>
<a class="anchor" id="a183360277f623a99f5e6bb451eca61dc"></a><!-- doxytag: member="AmAudioFile::on_close" ref="a183360277f623a99f5e6bb451eca61dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">AmAudioFile::on_close</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the handler's on_close. </p>

<p>References <a class="el" href="classAmAudioFormat.html#a3f6a884fdaa91f8533e321c743200bf6">AmAudioFormat::channels</a>, <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, <a class="el" href="classAmAudio.html#acdacbb5c83f7d814879088a5c4e625c9">AmAudio::fmt</a>, <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, <a class="el" href="classAmAudioFormat.html#a6ce85a665fe11d794cfb9a5f1878d11b">AmAudioFormat::getRate()</a>, <a class="el" href="classAmAudioFileFormat.html#a8ad6b2cf760086c667e536d61588a206">AmAudioFileFormat::getSubtypeId()</a>, <a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">iofmt</a>, <a class="el" href="structamci__inoutfmt__t.html#a6f3e0c437c194c3d8f17d02435ed5caa">amci_inoutfmt_t::on_close</a>, and <a class="el" href="classAmAudioFile.html#a414b1c08b2ff5351a847f873f4a8642d">open_mode</a>.</p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">close()</a>.</p>

</div>
</div>
<a class="anchor" id="a574fcb4f792483540f30c44659a87577"></a><!-- doxytag: member="AmAudioFile::open" ref="a574fcb4f792483540f30c44659a87577" args="(const string &amp;filename, OpenMode mode, bool is_tmp=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">AmAudioFile::open</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_tmp</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Opens a file. </p>
<ul>
<li>
In read mode: sets input format. </li>
<li>
In write mode: <ol>
<li>
needs output format set. </li>
<li>
If file name already exists, the file will be overwritten. </li>
</ol>
</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the file. </td></tr>
    <tr><td class="paramname">mode</td><td>Open mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if everything's OK </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAmAudioFile.html#a03db046f22b22f95ea2a395b9c205b67">OpenMode</a> </dd></dl>

<p>References <a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">close()</a>, <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, and <a class="el" href="classAmAudioFile.html#a2004da2d1f1e28aa3b5616872d22feea">getSubtype()</a>.</p>

<p>Referenced by <a class="el" href="classMyJukeboxDialog.html#a672cbc06fb3edb758f6cfbe52c9fe857">MyJukeboxDialog::onDtmf()</a>, <a class="el" href="classDtmfTesterDialog.html#a8160543a93c8280900891a08c436e30c">DtmfTesterDialog::onDtmf()</a>, <a class="el" href="classAnnRecorderDialog.html#af35ea2ec8497e3208b5556045dc997ca">AnnRecorderDialog::onDtmf()</a>, <a class="el" href="classEarlyRecordDialog.html#a78a57ea6ea02066bcadbd016c5336026">EarlyRecordDialog::onEarlySessionStart()</a>, <a class="el" href="classEarlyAnnounceDialog.html#af77c0b1d2d383e3e8f4713a101386dec">EarlyAnnounceDialog::onEarlySessionStart()</a>, <a class="el" href="classMyAnnounceAppDialog.html#aeeffdf5be162868697e37fff61765a59">MyAnnounceAppDialog::onSessionStart()</a>, <a class="el" href="classEarlyRecordDialog.html#a5bf881f98de1da6fa9a8e39977a338e2">EarlyRecordDialog::onSessionStart()</a>, <a class="el" href="classAnnounceCallerDialog.html#a8870a27a5bee8d401d50bba8d590caee">AnnounceCallerDialog::onSessionStart()</a>, <a class="el" href="classAnnouncementDialog.html#af07b33123ac8014c6801e3378db2c627">AnnouncementDialog::onSessionStart()</a>, <a class="el" href="classC2DCallerDialog.html#ad39679674319dc6361dffdb8f8d66fdb">C2DCallerDialog::onSessionStart()</a>, <a class="el" href="classJukecallSession.html#ab7457f8fe40c0f03cd457b1af6bf7527">JukecallSession::onSessionStart()</a>, <a class="el" href="classServiceLineCallerDialog.html#a293f451ccbfdcc5458cda230c69a0a03">ServiceLineCallerDialog::onSessionStart()</a>, and <a class="el" href="classAnswerMachineDialog.html#a5387fb28203f562690b02b3af760db18">AnswerMachineDialog::onSessionStart()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c19d74cd2c454fe08c5a4dd2fd6b00"></a><!-- doxytag: member="AmAudioFile::read" ref="ae9c19d74cd2c454fe08c5a4dd2fd6b00" args="(unsigned int user_ts, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#ae9c19d74cd2c454fe08c5a4dd2fd6b00">AmAudioFile::read</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>user_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAmAudio.html#ad946c8255761c3bc65ac11df6c94fe49">AmAudio::read</a> </dd></dl>

<p>Implements <a class="el" href="classAmAudio.html#ad946c8255761c3bc65ac11df6c94fe49">AmAudio</a>.</p>

<p>References <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, <a class="el" href="classAmAudioFile.html#a76f181fd867dd4f18091d44be39819ba">rewind()</a>, and <a class="el" href="classAmAudio.html#a8de91fe851dd59c740fb314a12714d43">AmAudio::samples</a>.</p>

</div>
</div>
<a class="anchor" id="a76f181fd867dd4f18091d44be39819ba"></a><!-- doxytag: member="AmAudioFile::rewind" ref="a76f181fd867dd4f18091d44be39819ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmAudioFile.html#a76f181fd867dd4f18091d44be39819ba">AmAudioFile::rewind</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rewind the file to beginning. </p>

<p>References <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>.</p>

<p>Referenced by <a class="el" href="classAmAudioMixIn.html#aba2ac240a61af9a480ee1c6f079fa963">AmAudioMixIn::get()</a>, and <a class="el" href="classAmAudioFile.html#ae9c19d74cd2c454fe08c5a4dd2fd6b00">read()</a>.</p>

</div>
</div>
<a class="anchor" id="a572dcee1bc4273268d8cde31aa0dfca9"></a><!-- doxytag: member="AmAudioFile::rewind" ref="a572dcee1bc4273268d8cde31aa0dfca9" args="(unsigned int msec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmAudioFile.html#a76f181fd867dd4f18091d44be39819ba">AmAudioFile::rewind</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>msec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rewind the file some milliseconds. </p>

<p>References <a class="el" href="classAmAudio.html#acdacbb5c83f7d814879088a5c4e625c9">AmAudio::fmt</a>, and <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>.</p>

</div>
</div>
<a class="anchor" id="abe1c2f2626355032c600db72498da456"></a><!-- doxytag: member="AmAudioFile::write" ref="abe1c2f2626355032c600db72498da456" args="(unsigned int user_ts, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#abe1c2f2626355032c600db72498da456">AmAudioFile::write</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>user_ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAmAudio.html#a25430f0b66354d3c7a6b5c8176cfc7e8">AmAudio::write</a> </dd></dl>

<p>Implements <a class="el" href="classAmAudio.html#a25430f0b66354d3c7a6b5c8176cfc7e8">AmAudio</a>.</p>

<p>References <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">data_size</a>, <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, and <a class="el" href="classAmAudio.html#a8de91fe851dd59c740fb314a12714d43">AmAudio::samples</a>.</p>

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="acb19fd4438c14d9d5952dadad756cf03"></a><!-- doxytag: member="AmAudioFile::data_size" ref="acb19fd4438c14d9d5952dadad756cf03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#acb19fd4438c14d9d5952dadad756cf03">AmAudioFile::data_size</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Size of datas having been read/written until now. </p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#aa8f94b169ac6959be9492197566f86f8">forward()</a>, <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, <a class="el" href="classAmAudioFile.html#ad31087828c880f9d8119fe0ab3b3d14f">getDataSize()</a>, <a class="el" href="classAmAudioFile.html#ab0577e9cf6fbb2085dd56067805bbf74">getLength()</a>, <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close()</a>, <a class="el" href="classAmAudioFile.html#ae9c19d74cd2c454fe08c5a4dd2fd6b00">read()</a>, and <a class="el" href="classAmAudioFile.html#abe1c2f2626355032c600db72498da456">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c7230cac4a03dae55cda533c03e5e9a"></a><!-- doxytag: member="AmAudioFile::fp" ref="a7c7230cac4a03dae55cda533c03e5e9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE* <a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">AmAudioFile::fp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the file opened as last. </p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a28fa15e223db939d56559e95de67e51d">close()</a>, <a class="el" href="classAmAudioFile.html#aa8f94b169ac6959be9492197566f86f8">forward()</a>, <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, <a class="el" href="classAmAudioFile.html#a4711f1efcf927d0720d11e150598d456">getfp()</a>, <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close()</a>, <a class="el" href="classAmAudioFile.html#ae9c19d74cd2c454fe08c5a4dd2fd6b00">read()</a>, <a class="el" href="classAmAudioFile.html#a76f181fd867dd4f18091d44be39819ba">rewind()</a>, and <a class="el" href="classAmAudioFile.html#abe1c2f2626355032c600db72498da456">write()</a>.</p>

</div>
</div>
<a class="anchor" id="a19b84da5ddaa0384dd57718292a8195a"></a><!-- doxytag: member="AmAudioFile::iofmt" ref="a19b84da5ddaa0384dd57718292a8195a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structamci__inoutfmt__t.html">amci_inoutfmt_t</a>* <a class="el" href="classAmAudioFile.html#a19b84da5ddaa0384dd57718292a8195a">AmAudioFile::iofmt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Format of that file. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAmAudioFile.html#a7c7230cac4a03dae55cda533c03e5e9a">fp</a>, <a class="el" href="classAmAudioFile.html#a574fcb4f792483540f30c44659a87577">open()</a>. </dd></dl>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a5e3e0313653f8f2b994bfa069aa8833e">fileName2Fmt()</a>, <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, <a class="el" href="classAmAudioFile.html#a9e0cb652cd284a49f3db45825ded7a4e">getMimeType()</a>, and <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close()</a>.</p>

</div>
</div>
<a class="anchor" id="a414b1c08b2ff5351a847f873f4a8642d"></a><!-- doxytag: member="AmAudioFile::open_mode" ref="a414b1c08b2ff5351a847f873f4a8642d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAmAudioFile.html#a414b1c08b2ff5351a847f873f4a8642d">AmAudioFile::open_mode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Open mode. </p>

<p>Referenced by <a class="el" href="classAmAudioFile.html#a97890ccb25133807058ff80d3c63ec4d">fpopen_int()</a>, and <a class="el" href="classAmAudioFile.html#a183360277f623a99f5e6bb451eca61dc">on_close()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AmAudioFile_8h_source.html">AmAudioFile.h</a></li>
<li>AmAudioFile.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
