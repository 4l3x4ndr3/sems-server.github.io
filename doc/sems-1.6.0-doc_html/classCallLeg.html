<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: CallLeg Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">CallLeg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="CallLeg" --><!-- doxytag: inherits="AmB2BSession" -->
<p><code>#include &lt;<a class="el" href="CallLeg_8h_source.html">CallLeg.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CallLeg:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCallLeg.png" usemap="#CallLeg_map" alt=""/>
  <map id="CallLeg_map" name="CallLeg_map">
<area href="classAmB2BSession.html" title="Base class for Sessions in B2BUA mode." alt="AmB2BSession" shape="rect" coords="598,168,759,192"/>
<area href="classAmSession.html" title="Implements the default behavior of one session." alt="AmSession" shape="rect" coords="513,112,674,136"/>
<area href="classRelayController.html" title="Class for computing mask of payloads to relay." alt="RelayController" shape="rect" coords="684,112,845,136"/>
<area href="classAmObject.html" alt="AmObject" shape="rect" coords="0,56,161,80"/>
<area href="classAmThread.html" title="C++ Wrapper class for pthread." alt="AmThread" shape="rect" coords="171,56,332,80"/>
<area href="classAmEventQueue.html" title="Asynchronous event queue implementation." alt="AmEventQueue" shape="rect" coords="342,56,503,80"/>
<area href="classAmEventHandler.html" title="event handler interface" alt="AmEventHandler" shape="rect" coords="513,56,674,80"/>
<area href="classAmSipDialogEventHandler.html" title="base class for SIP request/reply event handler" alt="AmSipDialogEventHandler" shape="rect" coords="684,56,845,80"/>
<area href="classAmMediaSession.html" alt="AmMediaSession" shape="rect" coords="855,56,1016,80"/>
<area href="classAmDtmfSink.html" title="DTMF sink class." alt="AmDtmfSink" shape="rect" coords="1026,56,1187,80"/>
<area href="classAmEventQueueInterface.html" alt="AmEventQueueInterface" shape="rect" coords="256,0,417,24"/>
<area href="classatomic__ref__cnt.html" alt="atomic_ref_cnt" shape="rect" coords="427,0,588,24"/>
<area href="classAmBasicSipEventHandler.html" title="base class for SIP request/reply event handler" alt="AmBasicSipEventHandler" shape="rect" coords="684,0,845,24"/>
<area href="classSBCCallLeg.html" alt="SBCCallLeg" shape="rect" coords="598,280,759,304"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>OtherLegInfo</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCallLeg_1_1StatusChangeCause.html">StatusChangeCause</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a35d0a520352a5b2c6b46b0aae985efb4">CallStatus</a> { <br/>
&#160;&#160;<b>Disconnected</b>, 
<b>NoReply</b>, 
<b>Ringing</b>, 
<b>Connected</b>, 
<br/>
&#160;&#160;<b>Disconnecting</b>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a6fac5d16230e6834e70447f2c9d67178">CallFailureReason</a> { <b>CallRefused</b>, 
<b>CallCanceled</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#aa4468d573da32b91df1f2ecf21068916">onB2BEvent</a> (<a class="el" href="structB2BEvent.html">B2BEvent</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a9af6a7dc33a71f5a381db17acfda672c">disconnect</a> (bool hold_remote, bool preserve_media_session=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">stopCall</a> (const <a class="el" href="structCallLeg_1_1StatusChangeCause.html">StatusChangeCause</a> &amp;cause)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#aabfcd5904c613bbf82ee216052418e29">putOnHold</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a0e11810474e5c09ea04f3f49b3c1d612">resumeHeld</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38d6dd8a1d50569b52257fabd56d6d39"></a><!-- doxytag: member="CallLeg::isOnHold" ref="a38d6dd8a1d50569b52257fabd56d6d39" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>isOnHold</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#afadd3852f1acf61352d4e8bda1b28a79">addCallee</a> (<a class="el" href="classCallLeg.html">CallLeg</a> *callee, const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;relayed_invite)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a4bc2bac95b3fb1b1000188ba2450a79d">addCallee</a> (const string &amp;session_tag, const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;relayed_invite)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a911355d6902a30d230e53ab93b3a4f03"></a><!-- doxytag: member="CallLeg::addCallee" ref="a911355d6902a30d230e53ab93b3a4f03" args="(const string &amp;session_tag, const string &amp;hdrs)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>addCallee</b> (const string &amp;session_tag, const string &amp;hdrs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a5e9ff2d9a6b17944716793afa337f197">addCallee</a> (<a class="el" href="classCallLeg.html">CallLeg</a> *callee, const string &amp;hdrs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ae20da26a806fa20aa6102e53d73e966a">replaceExistingLeg</a> (const string &amp;session_tag, const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;relayed_invite)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a308d2cf1fe80d73688955166ee8de170"></a><!-- doxytag: member="CallLeg::replaceExistingLeg" ref="a308d2cf1fe80d73688955166ee8de170" args="(const string &amp;session_tag, const string &amp;hdrs)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>replaceExistingLeg</b> (const string &amp;session_tag, const string &amp;hdrs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a8158c587a78b01be321ae4a440e82c32">debug</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae69df2b3ea1f220d653c9ed56dd01380"></a><!-- doxytag: member="CallLeg::getCallStatusStr" ref="ae69df2b3ea1f220d653c9ed56dd01380" args="()" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>getCallStatusStr</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ae7e7901aeb61450a860f440779fc5832">readStreams</a> (unsigned long long ts, unsigned char *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a2f6e0b6a44eaaf04c21fc21783b68f9d">writeStreams</a> (unsigned long long ts, unsigned char *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a91604f141cbc2184e23a8bce97ebaf80">CallLeg</a> (<a class="el" href="classAmSipDialog.html">AmSipDialog</a> *p_dlg=NULL, <a class="el" href="classAmSipSubscription.html">AmSipSubscription</a> *p_subs=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a26082f1808af40755aaebf4adbbdd01a">CallLeg</a> (const <a class="el" href="classCallLeg.html">CallLeg</a> *caller, <a class="el" href="classAmSipDialog.html">AmSipDialog</a> *p_dlg=NULL, <a class="el" href="classAmSipSubscription.html">AmSipSubscription</a> *p_subs=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#aaef8ea55427dd8f1d5fe9a632fd0fe1e">onSdpCompleted</a> (const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;local, const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;remote)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a4d14f50a9377d68d630697c012c638f4">getSdpOffer</a> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;offer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ac5a3c1b6646edf84f220b2a51e3bc5e2">getSdpAnswer</a> (const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;offer, <a class="el" href="classAmSdp.html">AmSdp</a> &amp;answer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a8b54b1e84b36bc6a3cd844910e9439ed">onEarlySessionStart</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a05348ab6648ca8f96df73075a3770aa4">onSessionStart</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62ff228aeaeb1cea018b906bd0d9dde0"></a><!-- doxytag: member="CallLeg::setCallStatus" ref="a62ff228aeaeb1cea018b906bd0d9dde0" args="(CallStatus new_status)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>setCallStatus</b> (<a class="el" href="classCallLeg.html#a35d0a520352a5b2c6b46b0aae985efb4">CallStatus</a> new_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0018ccb83f64dcad0f6be0cfb6b150bf"></a><!-- doxytag: member="CallLeg::getCallStatus" ref="a0018ccb83f64dcad0f6be0cfb6b150bf" args="()" -->
<a class="el" href="classCallLeg.html#a35d0a520352a5b2c6b46b0aae985efb4">CallStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getCallStatus</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a00d9ba1a09fe2dacd5a02ceb1c2ad22b">onInvite</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#aafc7ee7a494fe66b897340ad224decf8">onInvite2xx</a> (const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;reply)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a93269474e73d68c16b2602883fb92f26">onCancel</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a32f71bd41ea0bccba684c2419cf6b3c2">onBye</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a2bf28595b72d71270d7342cec4fd44b7">onRemoteDisappeared</a> (const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;reply)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a15e71600701d8af9586db996b94b1925">onNoAck</a> (unsigned int cseq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a92e56a8d7285c3b34806812db7d39b2a">onNoPrack</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req, const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;rpl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ac8cfd461e1e1dfb93ca3bba869cc17c0">onRtpTimeout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#abc94ee9561d49079b19395af9a8b3317">onSessionTimeout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a985d193115f52fe74faf9164c602f34a">onOtherBye</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a52ad3ddd1fb1762e201025bb34077f84">onSipRequest</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ae1020e09f528c6ab47f2b82442ecc91f">onSipReply</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req, const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;reply, AmSipDialog::Status old_dlg_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a737ccc8ebe4c8901a3dc89378434de3d"></a><!-- doxytag: member="CallLeg::onInitialReply" ref="a737ccc8ebe4c8901a3dc89378434de3d" args="(B2BSipReplyEvent *e)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>onInitialReply</b> (<a class="el" href="structB2BSipReplyEvent.html">B2BSipReplyEvent</a> *e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a482467e3c57c383f2a6c2094aa51c78e"></a><!-- doxytag: member="CallLeg::createHoldRequest" ref="a482467e3c57c383f2a6c2094aa51c78e" args="(AmSdp &amp;sdp)=0" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createHoldRequest</b> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;sdp)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#ac5b61e8614c6d7c3056f21bdb080b397">alterHoldRequest</a> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;sdp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87b20fe54eb371b94944b7ff89161a17"></a><!-- doxytag: member="CallLeg::createResumeRequest" ref="a87b20fe54eb371b94944b7ff89161a17" args="(AmSdp &amp;sdp)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>createResumeRequest</b> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;sdp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a145724012b76bd7ef9ab303032a8175f">alterResumeRequest</a> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;sdp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90226f81a12e27097ba7069ee3a391da"></a><!-- doxytag: member="CallLeg::holdRequested" ref="a90226f81a12e27097ba7069ee3a391da" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>holdRequested</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d9188e1df613e705ceae9889884d58f"></a><!-- doxytag: member="CallLeg::holdAccepted" ref="a1d9188e1df613e705ceae9889884d58f" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>holdAccepted</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0a89e2609895a6e616b1da83633930f"></a><!-- doxytag: member="CallLeg::holdRejected" ref="aa0a89e2609895a6e616b1da83633930f" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>holdRejected</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d35c46196369e32b801643f03e63b91"></a><!-- doxytag: member="CallLeg::resumeRequested" ref="a0d35c46196369e32b801643f03e63b91" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resumeRequested</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7833b6b70ca873becbb1d734955c55f"></a><!-- doxytag: member="CallLeg::resumeAccepted" ref="ae7833b6b70ca873becbb1d734955c55f" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resumeAccepted</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a797336a8c7ef4a2731b7e4826a25cbe1"></a><!-- doxytag: member="CallLeg::resumeRejected" ref="a797336a8c7ef4a2731b7e4826a25cbe1" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>resumeRejected</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a55e2b40a345fd02e617771e5cd65e738">terminateOtherLeg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a58191b4f4701ef19ad916f1481de1483">terminateLeg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a5c3a53f2b7d689a81c464a8332c8fdb0">changeRtpMode</a> (RTPRelayMode new_mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCallLeg.html#a0c2168f196320a81734168e70f11b245">updateLocalSdp</a> (<a class="el" href="classAmSdp.html">AmSdp</a> &amp;sdp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3cf6a456a7593ebf16656f696f4f2ae6"></a><!-- doxytag: member="CallLeg::get491RetryTime" ref="a3cf6a456a7593ebf16656f696f4f2ae6" args="()" -->
virtual double&#160;</td><td class="memItemRight" valign="bottom"><b>get491RetryTime</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8cf863cd809c99e79fa8df777777157"></a><!-- doxytag: member="CallLeg::Reinvite" ref="ab8cf863cd809c99e79fa8df777777157" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>Reinvite</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba2ab488e10e9be23da0affec955e580"></a><!-- doxytag: member="CallLeg::PutOnHold" ref="aba2ab488e10e9be23da0affec955e580" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>PutOnHold</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a297e5ddeb0e5a7ead1ffd6b0957ef3a6"></a><!-- doxytag: member="CallLeg::ResumeHeld" ref="a297e5ddeb0e5a7ead1ffd6b0957ef3a6" args="" -->
class&#160;</td><td class="memItemRight" valign="bottom"><b>ResumeHeld</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>composed <a class="el" href="classAmB2BCalleeSession.html" title="Callee leg of a B2B session.">AmB2BCalleeSession</a> &amp; <a class="el" href="classAmB2BCallerSession.html" title="Caller leg of a B2B session.">AmB2BCallerSession</a> represents indepenedently A or B leg of a call, old clases left for compatibility</p>
<p>Notes:</p>
<ul>
<li>we use the relayEvent implementation from <a class="el" href="classAmB2BSession.html" title="Base class for Sessions in B2BUA mode.">AmB2BSession</a> - it can happen that we have no peer (i.e. we are a standalone call leg, for example parked one) =&gt; do not create other call leg automatically</li>
</ul>
<ul>
<li>we use onSystemEvent implementation from <a class="el" href="classAmB2BSession.html" title="Base class for Sessions in B2BUA mode.">AmB2BSession</a> - the other leg receives and handles the same shutdown event, right?</li>
</ul>
<ul>
<li>the role (A/B leg) can be changed during the <a class="el" href="classCallLeg.html">CallLeg</a> life and is understood just this way</li>
</ul>
<p>"A leg is the call leg created when handling initial INVITE request"</p>
<p>It is used</p>
<ul>
<li>as identification what part of media session is affected by operation</li>
<li>when CANCEL is being processed only the CANCEL of initial INVITE is important so it is explicitly verified that it is handled in A leg)</li>
</ul>
<p>In other words - the B leg can create new 'b-like-legs' the same way the A leg does. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a6fac5d16230e6834e70447f2c9d67178"></a><!-- doxytag: member="CallLeg::CallFailureReason" ref="a6fac5d16230e6834e70447f2c9d67178" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCallLeg.html#a6fac5d16230e6834e70447f2c9d67178">CallLeg::CallFailureReason</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>reason reported in onCallFailed method </p>

</div>
</div>
<a class="anchor" id="a35d0a520352a5b2c6b46b0aae985efb4"></a><!-- doxytag: member="CallLeg::CallStatus" ref="a35d0a520352a5b2c6b46b0aae985efb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCallLeg.html#a35d0a520352a5b2c6b46b0aae985efb4">CallLeg::CallStatus</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>B2B call status.</p>
<p>This status need not to be related directly to SIP dialog status in appropriate call legs - for example the B2B call status can be "Connected" though the legs have received BYE replies. </p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a91604f141cbc2184e23a8bce97ebaf80"></a><!-- doxytag: member="CallLeg::CallLeg" ref="a91604f141cbc2184e23a8bce97ebaf80" args="(AmSipDialog *p_dlg=NULL, AmSipSubscription *p_subs=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCallLeg.html#a91604f141cbc2184e23a8bce97ebaf80">CallLeg::CallLeg</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSipDialog.html">AmSipDialog</a> *&#160;</td>
          <td class="paramname"><em>p_dlg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSipSubscription.html">AmSipSubscription</a> *&#160;</td>
          <td class="paramname"><em>p_subs</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>creates A leg </p>

</div>
</div>
<a class="anchor" id="a26082f1808af40755aaebf4adbbdd01a"></a><!-- doxytag: member="CallLeg::CallLeg" ref="a26082f1808af40755aaebf4adbbdd01a" args="(const CallLeg *caller, AmSipDialog *p_dlg=NULL, AmSipSubscription *p_subs=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCallLeg.html#a91604f141cbc2184e23a8bce97ebaf80">CallLeg::CallLeg</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCallLeg.html">CallLeg</a> *&#160;</td>
          <td class="paramname"><em>caller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSipDialog.html">AmSipDialog</a> *&#160;</td>
          <td class="paramname"><em>p_dlg</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSipSubscription.html">AmSipSubscription</a> *&#160;</td>
          <td class="paramname"><em>p_subs</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>creates B leg using given session as A leg </p>

<p>References <a class="el" href="classAmSession.html#a88745a05b9f8a75b3c87a333fb9235ea">AmSession::getNewId()</a>, <a class="el" href="classAmB2BSession.html#a7f1e9fb99255770af4e0e9d8a782e081">AmB2BSession::getRtpRelayMode()</a>, <a class="el" href="classAmB2BSession.html#a294dde0f742f9435c9e127843ce66c60">AmB2BSession::lowfi_payloads</a>, and <a class="el" href="classAmB2BSession.html#a71a2ff3882827a68df03df26b12bd48f">AmB2BSession::setRtpRelayMode()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afadd3852f1acf61352d4e8bda1b28a79"></a><!-- doxytag: member="CallLeg::addCallee" ref="afadd3852f1acf61352d4e8bda1b28a79" args="(CallLeg *callee, const AmSipRequest &amp;relayed_invite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#afadd3852f1acf61352d4e8bda1b28a79">CallLeg::addCallee</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCallLeg.html">CallLeg</a> *&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>relayed_invite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add given call leg as our B leg </p>

</div>
</div>
<a class="anchor" id="a4bc2bac95b3fb1b1000188ba2450a79d"></a><!-- doxytag: member="CallLeg::addCallee" ref="a4bc2bac95b3fb1b1000188ba2450a79d" args="(const string &amp;session_tag, const AmSipRequest &amp;relayed_invite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#afadd3852f1acf61352d4e8bda1b28a79">CallLeg::addCallee</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>session_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>relayed_invite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add given already existing session as our B leg </p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e9ff2d9a6b17944716793afa337f197"></a><!-- doxytag: member="CallLeg::addCallee" ref="a5e9ff2d9a6b17944716793afa337f197" args="(CallLeg *callee, const string &amp;hdrs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#afadd3852f1acf61352d4e8bda1b28a79">CallLeg::addCallee</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCallLeg.html">CallLeg</a> *&#160;</td>
          <td class="paramname"><em>callee</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>hdrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add given call leg as our B leg (only stored SDP is used, we don't need to have INVITE request. Can be used in A leg and B leg as well. Additional headers may be specified - these are used in outgoing INVITE to the callee's destination. </p>

<p>References <a class="el" href="classAmB2BSession.html#af8105e303c87969558108a1b20765706">AmB2BSession::established_body</a>.</p>

</div>
</div>
<a class="anchor" id="ac5b61e8614c6d7c3056f21bdb080b397"></a><!-- doxytag: member="CallLeg::alterHoldRequest" ref="ac5b61e8614c6d7c3056f21bdb080b397" args="(AmSdp &amp;sdp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classCallLeg.html#ac5b61e8614c6d7c3056f21bdb080b397">CallLeg::alterHoldRequest</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>called to alter B2B hold request (i.e. the request from other peer) </p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#ab39ff12882c18555d34a60f1a68e0525">SBCCallLeg</a>.</p>

</div>
</div>
<a class="anchor" id="a145724012b76bd7ef9ab303032a8175f"></a><!-- doxytag: member="CallLeg::alterResumeRequest" ref="a145724012b76bd7ef9ab303032a8175f" args="(AmSdp &amp;sdp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classCallLeg.html#a145724012b76bd7ef9ab303032a8175f">CallLeg::alterResumeRequest</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td><code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>called to alter B2B hold request (i.e. the request from other peer) </p>

</div>
</div>
<a class="anchor" id="a5c3a53f2b7d689a81c464a8332c8fdb0"></a><!-- doxytag: member="CallLeg::changeRtpMode" ref="a5c3a53f2b7d689a81c464a8332c8fdb0" args="(RTPRelayMode new_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CallLeg::changeRtpMode </td>
          <td>(</td>
          <td class="paramtype">RTPRelayMode&#160;</td>
          <td class="paramname"><em>new_mode</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>change RTP mode (and <a class="el" href="classAmB2BMedia.html" title="Class for control over media relaying and transcoding in a B2B session.">AmB2BMedia</a> if needed) but do not send reINVITE</p>
<p>Changes the mode for all peer legs as well.</p>
<p>WARNING: really unsafe because possibly makes the object state inconsistent with sent SIP messages (sent/received SDPs).</p>
<p>WARNING: might require several events exchanged between call legs, the <a class="el" href="classAmB2BMedia.html" title="Class for control over media relaying and transcoding in a B2B session.">AmB2BMedia</a> will be valid after them!</p>
<p>TODO: add parameter to trigger reINVITE </p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#ae21b42f8245ba417531b398d0593df1d">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#a8e59033756f0fb3edcdd2a221129dc30">AmB2BSession::clearRtpReceiverRelay()</a>, <a class="el" href="classAmB2BSession.html#a5b7258b4941b9509098a15a810fa8f7a">AmB2BSession::relayEvent()</a>, <a class="el" href="classAmB2BSession.html#a4e435eea1f116656015210e0e5fb0cfe">AmB2BSession::rtp_relay_mode</a>, and <a class="el" href="classAmB2BSession.html#a71a2ff3882827a68df03df26b12bd48f">AmB2BSession::setRtpRelayMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a8158c587a78b01be321ae4a440e82c32"></a><!-- doxytag: member="CallLeg::debug" ref="a8158c587a78b01be321ae4a440e82c32" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a8158c587a78b01be321ae4a440e82c32">CallLeg::debug</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>generate debug information into log with overall call leg status </p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, and <a class="el" href="classAmB2BSession.html#a4e435eea1f116656015210e0e5fb0cfe">AmB2BSession::rtp_relay_mode</a>.</p>

</div>
</div>
<a class="anchor" id="a9af6a7dc33a71f5a381db17acfda672c"></a><!-- doxytag: member="CallLeg::disconnect" ref="a9af6a7dc33a71f5a381db17acfda672c" args="(bool hold_remote, bool preserve_media_session=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a9af6a7dc33a71f5a381db17acfda672c">CallLeg::disconnect</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>hold_remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserve_media_session</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>does all the job around disconnecting from the other leg (updates call status, disconnects RTP from the other, puts remote on hold (if requested)</p>
<p>The other leg is not affected by disconnect - it is neither terminated nor informed about the peer disconnection. </p>

<p>References <a class="el" href="classAmB2BSession.html#a8e59033756f0fb3edcdd2a221129dc30">AmB2BSession::clearRtpReceiverRelay()</a>, <a class="el" href="classAmB2BSession.html#adc9e98f46550445da82235dcda597982">AmB2BSession::est_invite_cseq</a>, <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, <a class="el" href="classAmB2BSession.html#a7f1e9fb99255770af4e0e9d8a782e081">AmB2BSession::getRtpRelayMode()</a>, <a class="el" href="classCallLeg.html#aabfcd5904c613bbf82ee216052418e29">putOnHold()</a>, and <a class="el" href="classAmB2BSession.html#a259ad2182b15e359bbf9fad0ab3d07be">AmB2BSession::relayed_req</a>.</p>

<p>Referenced by <a class="el" href="classCallLeg.html#aa4468d573da32b91df1f2ecf21068916">onB2BEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="ac5a3c1b6646edf84f220b2a51e3bc5e2"></a><!-- doxytag: member="CallLeg::getSdpAnswer" ref="ac5a3c1b6646edf84f220b2a51e3bc5e2" args="(const AmSdp &amp;offer, AmSdp &amp;answer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classCallLeg.html#ac5a3c1b6646edf84f220b2a51e3bc5e2">CallLeg::getSdpAnswer</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>answer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when an SDP offer is required</p>
<p>Hook called when an SDP answer is required </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ad63549078e21fc41dfc0dc471006d803">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a4d14f50a9377d68d630697c012c638f4"></a><!-- doxytag: member="CallLeg::getSdpOffer" ref="a4d14f50a9377d68d630697c012c638f4" args="(AmSdp &amp;offer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classCallLeg.html#a4d14f50a9377d68d630697c012c638f4">CallLeg::getSdpOffer</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>offer</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when an SDP offer is required </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a0b5e3ec8a1953a613460754f0e70833f">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="aa4468d573da32b91df1f2ecf21068916"></a><!-- doxytag: member="CallLeg::onB2BEvent" ref="aa4468d573da32b91df1f2ecf21068916" args="(B2BEvent *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#aa4468d573da32b91df1f2ecf21068916">CallLeg::onB2BEvent</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structB2BEvent.html">B2BEvent</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="structB2BEvent.html" title="base class for event in B2B session">B2BEvent</a> handler </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a74510f0e4acea902372c183503738712">AmB2BSession</a>.</p>

<p>References <a class="el" href="classCallLeg.html#a9af6a7dc33a71f5a381db17acfda672c">disconnect()</a>, <a class="el" href="classCallLeg.html#a0e11810474e5c09ea04f3f49b3c1d612">resumeHeld()</a>, and <a class="el" href="classAmB2BSession.html#a03dd3c3a008de12bedae6166192a25a2">AmB2BSession::sip_relay_only</a>.</p>

</div>
</div>
<a class="anchor" id="a32f71bd41ea0bccba684c2419cf6b3c2"></a><!-- doxytag: member="CallLeg::onBye" ref="a32f71bd41ea0bccba684c2419cf6b3c2" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a32f71bd41ea0bccba684c2419cf6b3c2">CallLeg::onBye</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onBye is called whenever a BYE request is received. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ad97c6fd0d380ebf7b49201b721852fd9">AmSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#ae2e67c134e32c3e3298742e891ca5d42">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#a8e59033756f0fb3edcdd2a221129dc30">AmB2BSession::clearRtpReceiverRelay()</a>.</p>

</div>
</div>
<a class="anchor" id="a93269474e73d68c16b2602883fb92f26"></a><!-- doxytag: member="CallLeg::onCancel" ref="a93269474e73d68c16b2602883fb92f26" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a93269474e73d68c16b2602883fb92f26">CallLeg::onCancel</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onCancel will be called if a CANCEL for a running dialog has been received. At this point, the CANCEL transaction has been replied with 200.</p>
<p>A normal plug-in does not have to do anything special, as normal dialogs are immediatly replied with 200 or error code.</p>
<p>Note: You are still responsible for responding the initial transaction. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ae75a344333b5b1cd0c0ce6de59dca99a">AmSession</a>.</p>

<p>References <a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">stopCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b54b1e84b36bc6a3cd844910e9439ed"></a><!-- doxytag: member="CallLeg::onEarlySessionStart" ref="a8b54b1e84b36bc6a3cd844910e9439ed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classCallLeg.html#a8b54b1e84b36bc6a3cd844910e9439ed">CallLeg::onEarlySessionStart</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when an early session starts (SDP OA completed + dialog in early state) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#accee3764f503775e5be6ebaa0efeef52">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a00d9ba1a09fe2dacd5a02ceb1c2ad22b"></a><!-- doxytag: member="CallLeg::onInvite" ref="a00d9ba1a09fe2dacd5a02ceb1c2ad22b" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a00d9ba1a09fe2dacd5a02ceb1c2ad22b">CallLeg::onInvite</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onInvite will be called if an INVITE or re-INVITE has been received for the session. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a9cb573a2726f7eb4479563006676b2f7">AmSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#adb71d15bcc403037b349084a0332589a">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#adc9e98f46550445da82235dcda597982">AmB2BSession::est_invite_cseq</a>, and <a class="el" href="classAmB2BSession.html#a1d711db12dba22bba16ed50c9fd79b70">AmB2BSession::recvd_req</a>.</p>

</div>
</div>
<a class="anchor" id="aafc7ee7a494fe66b897340ad224decf8"></a><!-- doxytag: member="CallLeg::onInvite2xx" ref="aafc7ee7a494fe66b897340ad224decf8" args="(const AmSipReply &amp;reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#aafc7ee7a494fe66b897340ad224decf8">CallLeg::onInvite2xx</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"><em>reply</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>2xx reply has been received for an INVITE transaction </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a367429c53a9d31b83a17659db4702f9a">AmB2BSession</a>.</p>

</div>
</div>
<a class="anchor" id="a15e71600701d8af9586db996b94b1925"></a><!-- doxytag: member="CallLeg::onNoAck" ref="a15e71600701d8af9586db996b94b1925" args="(unsigned int cseq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a15e71600701d8af9586db996b94b1925">CallLeg::onNoAck</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ack_cseq</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when a UAS INVITE transaction did not receive the ACK </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a1d5a2443e67bc415ba3dafb7858dec6a">AmB2BSession</a>.</p>

</div>
</div>
<a class="anchor" id="a92e56a8d7285c3b34806812db7d39b2a"></a><!-- doxytag: member="CallLeg::onNoPrack" ref="a92e56a8d7285c3b34806812db7d39b2a" args="(const AmSipRequest &amp;req, const AmSipReply &amp;rpl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a92e56a8d7285c3b34806812db7d39b2a">CallLeg::onNoPrack</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"><em>rpl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when a UAS INVITE transaction did not receive the PRACK </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a4bb8b400b431d94b60f0c6d0273f670a">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a985d193115f52fe74faf9164c602f34a"></a><!-- doxytag: member="CallLeg::onOtherBye" ref="a985d193115f52fe74faf9164c602f34a" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a985d193115f52fe74faf9164c602f34a">CallLeg::onOtherBye</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>handle BYE on other leg </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a5e4a2901a0b817b7b4c30b33ba3ace70">AmB2BSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#a5134b51ca6f3f336a636912913045821">SBCCallLeg</a>.</p>

</div>
</div>
<a class="anchor" id="a2bf28595b72d71270d7342cec4fd44b7"></a><!-- doxytag: member="CallLeg::onRemoteDisappeared" ref="a2bf28595b72d71270d7342cec4fd44b7" args="(const AmSipReply &amp;reply)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a2bf28595b72d71270d7342cec4fd44b7">CallLeg::onRemoteDisappeared</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>remote side is unreachable - 408/481 reply received </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a1390b58f75e1f66badd9b9b1e27fada0">AmB2BSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#aa68dc57c5ec7b4aab85c6d76ab854721">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#a8e59033756f0fb3edcdd2a221129dc30">AmB2BSession::clearRtpReceiverRelay()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8cfd461e1e1dfb93ca3bba869cc17c0"></a><!-- doxytag: member="CallLeg::onRtpTimeout" ref="ac8cfd461e1e1dfb93ca3bba869cc17c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#ac8cfd461e1e1dfb93ca3bba869cc17c0">CallLeg::onRtpTimeout</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called if RTP timeout encountered </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a07c68673ca55e0f227dba2228b0f8299">AmB2BSession</a>.</p>

</div>
</div>
<a class="anchor" id="aaef8ea55427dd8f1d5fe9a632fd0fe1e"></a><!-- doxytag: member="CallLeg::onSdpCompleted" ref="aaef8ea55427dd8f1d5fe9a632fd0fe1e" args="(const AmSdp &amp;local, const AmSdp &amp;remote)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCallLeg.html#aaef8ea55427dd8f1d5fe9a632fd0fe1e">CallLeg::onSdpCompleted</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>offer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>answer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when an SDP OA transaction has been completed </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#aa636764d855df589909065bbc1f1be10">AmB2BSession</a>.</p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>.</p>

</div>
</div>
<a class="anchor" id="a05348ab6648ca8f96df73075a3770aa4"></a><!-- doxytag: member="CallLeg::onSessionStart" ref="a05348ab6648ca8f96df73075a3770aa4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classCallLeg.html#a05348ab6648ca8f96df73075a3770aa4">CallLeg::onSessionStart</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when the session creation is completed (INV trans replied with 200) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ade7ae41dfde35e34614d93c21b0fd4ba">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="abc94ee9561d49079b19395af9a8b3317"></a><!-- doxytag: member="CallLeg::onSessionTimeout" ref="abc94ee9561d49079b19395af9a8b3317" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#abc94ee9561d49079b19395af9a8b3317">CallLeg::onSessionTimeout</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called if session timeout encountered (session timers) </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#ab24207ef46bbdb44cf26293b966fb9ab">AmB2BSession</a>.</p>

</div>
</div>
<a class="anchor" id="ae1020e09f528c6ab47f2b82442ecc91f"></a><!-- doxytag: member="CallLeg::onSipReply" ref="ae1020e09f528c6ab47f2b82442ecc91f" args="(const AmSipRequest &amp;req, const AmSipReply &amp;reply, AmSipDialog::Status old_dlg_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#ae1020e09f528c6ab47f2b82442ecc91f">CallLeg::onSipReply</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"><em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AmSipDialog::Status&#160;</td>
          <td class="paramname"><em>old_dlg_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Entry point for SIP Replies </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#ac827ef1f01e4fb03669bf66af097c062">AmB2BSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#af8c3be77f32bb612a19c4f8470f5a013">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#adc9e98f46550445da82235dcda597982">AmB2BSession::est_invite_cseq</a>, <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, <a class="el" href="classAmMimeBody.html#ae0381759a9c8138b1f21352021b7807f">AmMimeBody::getPayload()</a>, <a class="el" href="classAmMimeBody.html#aa88e90ba7c508b65fbee9a1e39e2703b">AmMimeBody::hasContentType()</a>, <a class="el" href="classAmSdp.html#a2f3ff78b284823f7d5deed61cc962f3c">AmSdp::parse()</a>, <a class="el" href="classAmB2BSession.html#a259ad2182b15e359bbf9fad0ab3d07be">AmB2BSession::relayed_req</a>, and <a class="el" href="classCallLeg.html#a58191b4f4701ef19ad916f1481de1483">terminateLeg()</a>.</p>

</div>
</div>
<a class="anchor" id="a52ad3ddd1fb1762e201025bb34077f84"></a><!-- doxytag: member="CallLeg::onSipRequest" ref="a52ad3ddd1fb1762e201025bb34077f84" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a52ad3ddd1fb1762e201025bb34077f84">CallLeg::onSipRequest</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Entry point for SIP Requests </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a0d15c8f59ba7d549fc043aea3afe0907">AmB2BSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#a9060c061c57acdd93e0cb0a6eee74a65">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, <a class="el" href="classAmBasicSipDialog.html#a246ce04e27141a687cc4f914f0eac98b">AmBasicSipDialog::getStatus()</a>, <a class="el" href="classAmBasicSipDialog.html#a74e030487c95934e04b15f1628028901">AmBasicSipDialog::reply()</a>, and <a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">stopCall()</a>.</p>

</div>
</div>
<a class="anchor" id="aabfcd5904c613bbf82ee216052418e29"></a><!-- doxytag: member="CallLeg::putOnHold" ref="aabfcd5904c613bbf82ee216052418e29" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#aabfcd5904c613bbf82ee216052418e29">CallLeg::putOnHold</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put remote party on hold (may change RTP relay mode!). Note that this task is asynchronous so the remote is most probably NOT 'on hold' after calling this method</p>
<p>This method calls handleHoldReply(false) directly if an error occurs. </p>

<p>Referenced by <a class="el" href="classCallLeg.html#a9af6a7dc33a71f5a381db17acfda672c">disconnect()</a>.</p>

</div>
</div>
<a class="anchor" id="ae7e7901aeb61450a860f440779fc5832"></a><!-- doxytag: member="CallLeg::readStreams" ref="ae7e7901aeb61450a860f440779fc5832" args="(unsigned long long ts, unsigned char *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCallLeg.html#ae7e7901aeb61450a860f440779fc5832">CallLeg::readStreams</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read from all media streams.</p>
<p>To preserve current media processing scheme it is needed to read from all streams first and then write to them. This can be important for example in case of conferences where we need to have media from all streams ready for mixing them.</p>
<p>So the <a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a> first calls readStreams on all sessions and then writeStreams on all sessions.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ts</td><td>timestamp for which the processing is currently running</td></tr>
    <tr><td class="paramname">buffer</td><td>multi-purpose space given from outside (<a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a>)</td></tr>
  </table>
  </dd>
</dl>
<p>Buffer given as parametr is usable for anything, originally was intended for data read from one stream before putting to another stream.</p>
<p>The reason for having this buffer as parameter is that buffer size for audio processing is quite large (2K here) and thus allocating it on stack on some architectures may be problematic.</p>
<p>On other hand having the buffer dynamically allocated for each media session would significantly increase memory consumption per call.</p>
<p>So for now it seems to be the simplest way just to give the buffer as parameter from <a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a> and reuse it in all sessions handled by this thread (processing is done sequentially one session after another). </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a0be0d2ea796c8efc78fd203b1cff6b7c">AmSession</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#a7f1e9fb99255770af4e0e9d8a782e081">AmB2BSession::getRtpRelayMode()</a>.</p>

</div>
</div>
<a class="anchor" id="ae20da26a806fa20aa6102e53d73e966a"></a><!-- doxytag: member="CallLeg::replaceExistingLeg" ref="ae20da26a806fa20aa6102e53d73e966a" args="(const string &amp;session_tag, const AmSipRequest &amp;relayed_invite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#ae20da26a806fa20aa6102e53d73e966a">CallLeg::replaceExistingLeg</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>session_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>relayed_invite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Replace given already existing session in a B2B call. We become new A leg there regardless if we are replacing original A or B leg. </p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, and <a class="el" href="classAmB2BSession.html#a4e435eea1f116656015210e0e5fb0cfe">AmB2BSession::rtp_relay_mode</a>.</p>

</div>
</div>
<a class="anchor" id="a0e11810474e5c09ea04f3f49b3c1d612"></a><!-- doxytag: member="CallLeg::resumeHeld" ref="a0e11810474e5c09ea04f3f49b3c1d612" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a0e11810474e5c09ea04f3f49b3c1d612">CallLeg::resumeHeld</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>resume call if the remote party is on hold </p>

<p>Referenced by <a class="el" href="classCallLeg.html#aa4468d573da32b91df1f2ecf21068916">onB2BEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b224fad5ca2b526d8ecd405eb0b348f"></a><!-- doxytag: member="CallLeg::stopCall" ref="a8b224fad5ca2b526d8ecd405eb0b348f" args="(const StatusChangeCause &amp;cause)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">CallLeg::stopCall</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCallLeg_1_1StatusChangeCause.html">StatusChangeCause</a> &amp;&#160;</td>
          <td class="paramname"><em>cause</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate the whole B2B call (if there is no other leg only this one is stopped). </p>

<p>References <a class="el" href="classCallLeg.html#a58191b4f4701ef19ad916f1481de1483">terminateLeg()</a>, and <a class="el" href="classCallLeg.html#a55e2b40a345fd02e617771e5cd65e738">terminateOtherLeg()</a>.</p>

<p>Referenced by <a class="el" href="classCallLeg.html#a93269474e73d68c16b2602883fb92f26">onCancel()</a>, <a class="el" href="classCallLeg.html#a52ad3ddd1fb1762e201025bb34077f84">onSipRequest()</a>, and <a class="el" href="classSBCCallLeg.html#a146ee6fc9e68847387b6408bf87d0608">SBCCallLeg::process()</a>.</p>

</div>
</div>
<a class="anchor" id="a58191b4f4701ef19ad916f1481de1483"></a><!-- doxytag: member="CallLeg::terminateLeg" ref="a58191b4f4701ef19ad916f1481de1483" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a58191b4f4701ef19ad916f1481de1483">CallLeg::terminateLeg</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate our leg and forget the other. </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a6d7716e043967cedfd5238153fa50aee">AmB2BSession</a>.</p>

<p>Referenced by <a class="el" href="classCallLeg.html#ae1020e09f528c6ab47f2b82442ecc91f">onSipReply()</a>, and <a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">stopCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a55e2b40a345fd02e617771e5cd65e738"></a><!-- doxytag: member="CallLeg::terminateOtherLeg" ref="a55e2b40a345fd02e617771e5cd65e738" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a55e2b40a345fd02e617771e5cd65e738">CallLeg::terminateOtherLeg</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate the other leg and forget it. </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a8a3ba26212c4fc05bfc2ba6e8f5e153b">AmB2BSession</a>.</p>

<p>Referenced by <a class="el" href="classCallLeg.html#a8b224fad5ca2b526d8ecd405eb0b348f">stopCall()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c2168f196320a81734168e70f11b245"></a><!-- doxytag: member="CallLeg::updateLocalSdp" ref="a0c2168f196320a81734168e70f11b245" args="(AmSdp &amp;sdp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classCallLeg.html#a0c2168f196320a81734168e70f11b245">CallLeg::updateLocalSdp</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>sdp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when SDP relayed from other leg should be sent to the remote party. Default implementation updates connection address and ports. </p>

<p>Reimplemented from <a class="el" href="classAmB2BSession.html#a02858439beed4b19bc97ae7f3afc3859">AmB2BSession</a>.</p>

<p>Reimplemented in <a class="el" href="classSBCCallLeg.html#a89a69d5e0d6755e93b4d0090d24f224f">SBCCallLeg</a>.</p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f6e0b6a44eaaf04c21fc21783b68f9d"></a><!-- doxytag: member="CallLeg::writeStreams" ref="a2f6e0b6a44eaaf04c21fc21783b68f9d" args="(unsigned long long ts, unsigned char *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classCallLeg.html#a2f6e0b6a44eaaf04c21fc21783b68f9d">CallLeg::writeStreams</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write to all media streams.</p>
<p>For the meaning of parameters see description of <a class="el" href="classCallLeg.html#ae7e7901aeb61450a860f440779fc5832">readStreams()</a> method. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a08a4ae5117109ed44c2b8f5d061e1755">AmSession</a>.</p>

<p>References <a class="el" href="classAmB2BSession.html#a7f1e9fb99255770af4e0e9d8a782e081">AmB2BSession::getRtpRelayMode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CallLeg_8h_source.html">CallLeg.h</a></li>
<li>CallLeg.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
