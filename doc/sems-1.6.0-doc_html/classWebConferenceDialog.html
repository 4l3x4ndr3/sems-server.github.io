<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: WebConferenceDialog Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">WebConferenceDialog Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="WebConferenceDialog" --><!-- doxytag: inherits="AmSession,CredentialHolder" --><div class="dynheader">
Inheritance diagram for WebConferenceDialog:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classWebConferenceDialog.png" usemap="#WebConferenceDialog_map" alt=""/>
  <map id="WebConferenceDialog_map" name="WebConferenceDialog_map">
<area href="classAmSession.html" title="Implements the default behavior of one session." alt="AmSession" shape="rect" coords="0,392,161,416"/>
<area href="classCredentialHolder.html" alt="CredentialHolder" shape="rect" coords="342,392,503,416"/>
<area href="classAmObject.html" alt="AmObject" shape="rect" coords="342,336,503,360"/>
<area href="classAmDtmfSink.html" title="DTMF sink class." alt="AmDtmfSink" shape="rect" coords="171,336,332,360"/>
<area href="classAmMediaSession.html" alt="AmMediaSession" shape="rect" coords="171,280,332,304"/>
<area href="classAmSipDialogEventHandler.html" title="base class for SIP request/reply event handler" alt="AmSipDialogEventHandler" shape="rect" coords="171,224,332,248"/>
<area href="classAmEventHandler.html" title="event handler interface" alt="AmEventHandler" shape="rect" coords="171,168,332,192"/>
<area href="classAmEventQueue.html" title="Asynchronous event queue implementation." alt="AmEventQueue" shape="rect" coords="171,112,332,136"/>
<area href="classAmThread.html" title="C++ Wrapper class for pthread." alt="AmThread" shape="rect" coords="171,56,332,80"/>
<area href="classAmObject.html" alt="AmObject" shape="rect" coords="171,0,332,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>WebConferenceState</b> { <br/>
&#160;&#160;<b>None</b> =  0, 
<b>EnteringPin</b>, 
<b>EnteringConference</b>, 
<b>InConference</b>, 
<br/>
&#160;&#160;<b>InConferenceRinging</b>, 
<b>InConferenceEarly</b>, 
<b>PlayErrorFinish</b>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62d3e6f022e962130285f6ec4a16226b"></a><!-- doxytag: member="WebConferenceDialog::WebConferenceDialog" ref="a62d3e6f022e962130285f6ec4a16226b" args="(AmPromptCollection &amp;prompts, WebConferenceFactory *my_f, UACAuthCred *cred)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>WebConferenceDialog</b> (<a class="el" href="classAmPromptCollection.html">AmPromptCollection</a> &amp;prompts, <a class="el" href="classWebConferenceFactory.html">WebConferenceFactory</a> *my_f, <a class="el" href="classUACAuthCred.html">UACAuthCred</a> *cred)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfd6892aa4364cc01c64f722f791cf79"></a><!-- doxytag: member="WebConferenceDialog::WebConferenceDialog" ref="adfd6892aa4364cc01c64f722f791cf79" args="(AmPromptCollection &amp;prompts, WebConferenceFactory *my_f, const string &amp;room)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>WebConferenceDialog</b> (<a class="el" href="classAmPromptCollection.html">AmPromptCollection</a> &amp;prompts, <a class="el" href="classWebConferenceFactory.html">WebConferenceFactory</a> *my_f, const string &amp;room)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a12aacfbb5cff483002d43998cec61228">process</a> (<a class="el" href="structAmEvent.html">AmEvent</a> *ev)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a5349515a64805b54b946314b55bf8a6e">onSipReply</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req, const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;reply, AmBasicSipDialog::Status old_dlg_status)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a3fa400a49be2e918f87a6f13ce0e90a1">onInvite</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a0f0eb9b4fbe8ec902e96c96301a032f3">onSessionStart</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a6feef0e3c99dc77fb2f2065d2c284edf">onEarlySessionStart</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a356455086406b135c0aefb31abde3dea">onRinging</a> (const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;rep)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a1568d0bb81c05346bda454f9a1cda811">onDtmf</a> (int event, int duration)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a4b44ad66cb3538eeaddc4a8dc40f2887">onBye</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#abfc86a4245683a2b85367c689c0fae68">onSessionTimeout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a962cd211b41d2babd2264d92ffa93eaf">onRtpTimeout</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe50906a7b243344ea275f9bf6cd71b0"></a><!-- doxytag: member="WebConferenceDialog::getCredentials" ref="afe50906a7b243344ea275f9bf6cd71b0" args="()" -->
<a class="el" href="classUACAuthCred.html">UACAuthCred</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getCredentials</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a68362ca579ab088aea9c2a94785abe10">readStreams</a> (unsigned long long ts, unsigned char *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#a21dd205be575ef76e9a3d9f81fb4c07b">isAudioSet</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWebConferenceDialog.html#ad759ab5ee8b85c58ce2942bc16d0e2da">clearAudio</a> ()</td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad759ab5ee8b85c58ce2942bc16d0e2da"></a><!-- doxytag: member="WebConferenceDialog::clearAudio" ref="ad759ab5ee8b85c58ce2942bc16d0e2da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#ad759ab5ee8b85c58ce2942bc16d0e2da">WebConferenceDialog::clearAudio</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears input &amp; ouput (no need to lock) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#aad988b8fbd9298111d673fed35270b4c">AmSession</a>.</p>

<p>References <a class="el" href="classAmAudio.html#a6c98dbfb50c265063b528f0f8ad9ecac">AmAudio::close()</a>, <a class="el" href="classAmSession.html#a11bcf7bc3296377cc23aad9aa3716a44">AmSession::lockAudio()</a>, and <a class="el" href="classAmSession.html#a7d61d1f81277c827d84f20e5d12d8756">AmSession::unlockAudio()</a>.</p>

</div>
</div>
<a class="anchor" id="a21dd205be575ef76e9a3d9f81fb4c07b"></a><!-- doxytag: member="WebConferenceDialog::isAudioSet" ref="a21dd205be575ef76e9a3d9f81fb4c07b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classWebConferenceDialog.html#a21dd205be575ef76e9a3d9f81fb4c07b">WebConferenceDialog::isAudioSet</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if input/output is set, might be overidden! </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a07d01cc105441975730ba97c7160a390">AmSession</a>.</p>

<p>References <a class="el" href="classAmSession.html#a11bcf7bc3296377cc23aad9aa3716a44">AmSession::lockAudio()</a>, and <a class="el" href="classAmSession.html#a7d61d1f81277c827d84f20e5d12d8756">AmSession::unlockAudio()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b44ad66cb3538eeaddc4a8dc40f2887"></a><!-- doxytag: member="WebConferenceDialog::onBye" ref="a4b44ad66cb3538eeaddc4a8dc40f2887" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a4b44ad66cb3538eeaddc4a8dc40f2887">WebConferenceDialog::onBye</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onBye is called whenever a BYE request is received. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ad97c6fd0d380ebf7b49201b721852fd9">AmSession</a>.</p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>.</p>

</div>
</div>
<a class="anchor" id="a1568d0bb81c05346bda454f9a1cda811"></a><!-- doxytag: member="WebConferenceDialog::onDtmf" ref="a1568d0bb81c05346bda454f9a1cda811" args="(int event, int duration)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a1568d0bb81c05346bda454f9a1cda811">WebConferenceDialog::onDtmf</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>DTMF event handler for apps to use </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ad64183ceeb14cef31286749f3c913eea">AmSession</a>.</p>

<p>References <a class="el" href="classAmPromptCollection.html#a1d39ab44f8a7c1b7af5a73633bc9a504">AmPromptCollection::addToPlaylist()</a>, and <a class="el" href="AmUtils_8cpp.html#ac46bbc121c4737c1241555a6b7f0e05a">int2str()</a>.</p>

</div>
</div>
<a class="anchor" id="a6feef0e3c99dc77fb2f2065d2c284edf"></a><!-- doxytag: member="WebConferenceDialog::onEarlySessionStart" ref="a6feef0e3c99dc77fb2f2065d2c284edf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a6feef0e3c99dc77fb2f2065d2c284edf">WebConferenceDialog::onEarlySessionStart</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when an early session starts (SDP OA completed + dialog in early state) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#accee3764f503775e5be6ebaa0efeef52">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a3fa400a49be2e918f87a6f13ce0e90a1"></a><!-- doxytag: member="WebConferenceDialog::onInvite" ref="a3fa400a49be2e918f87a6f13ce0e90a1" args="(const AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a3fa400a49be2e918f87a6f13ce0e90a1">WebConferenceDialog::onInvite</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onInvite will be called if an INVITE or re-INVITE has been received for the session. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a9cb573a2726f7eb4479563006676b2f7">AmSession</a>.</p>

<p>References <a class="el" href="AmUtils_8cpp.html#a71d4e1f17bae85c8f950e2b5dbf0fa77">get_header_param()</a>.</p>

</div>
</div>
<a class="anchor" id="a356455086406b135c0aefb31abde3dea"></a><!-- doxytag: member="WebConferenceDialog::onRinging" ref="a356455086406b135c0aefb31abde3dea" args="(const AmSipReply &amp;rep)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a356455086406b135c0aefb31abde3dea">WebConferenceDialog::onRinging</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"><em>reply</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>onRinging will be called after 180 is received. If local audio is set up, session is added to media processor. </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#aaa682006dbe664cca9648a0a49aa01e3">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a962cd211b41d2babd2264d92ffa93eaf"></a><!-- doxytag: member="WebConferenceDialog::onRtpTimeout" ref="a962cd211b41d2babd2264d92ffa93eaf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a962cd211b41d2babd2264d92ffa93eaf">WebConferenceDialog::onRtpTimeout</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called if RTP timeout encountered </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#adb5907445d0a4c5ddc95fbd1ffcacdc5">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a0f0eb9b4fbe8ec902e96c96301a032f3"></a><!-- doxytag: member="WebConferenceDialog::onSessionStart" ref="a0f0eb9b4fbe8ec902e96c96301a032f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a0f0eb9b4fbe8ec902e96c96301a032f3">WebConferenceDialog::onSessionStart</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Hook called when the session creation is completed (INV trans replied with 200) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ade7ae41dfde35e34614d93c21b0fd4ba">AmSession</a>.</p>

<p>References <a class="el" href="classAmPromptCollection.html#a1d39ab44f8a7c1b7af5a73633bc9a504">AmPromptCollection::addToPlaylist()</a>, <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, and <a class="el" href="classAmSession.html#a2f11b926380f09cd9969132920f0f0c6">AmSession::setMute()</a>.</p>

</div>
</div>
<a class="anchor" id="abfc86a4245683a2b85367c689c0fae68"></a><!-- doxytag: member="WebConferenceDialog::onSessionTimeout" ref="abfc86a4245683a2b85367c689c0fae68" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#abfc86a4245683a2b85367c689c0fae68">WebConferenceDialog::onSessionTimeout</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This callback is called if session timeout encountered (session timers) </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#ad17acd306679a1ecd0e0182bd3848151">AmSession</a>.</p>

</div>
</div>
<a class="anchor" id="a5349515a64805b54b946314b55bf8a6e"></a><!-- doxytag: member="WebConferenceDialog::onSipReply" ref="a5349515a64805b54b946314b55bf8a6e" args="(const AmSipRequest &amp;req, const AmSipReply &amp;reply, AmBasicSipDialog::Status old_dlg_status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a5349515a64805b54b946314b55bf8a6e">WebConferenceDialog::onSipReply</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAmSipReply.html">AmSipReply</a> &amp;&#160;</td>
          <td class="paramname"><em>reply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AmBasicSipDialog::Status&#160;</td>
          <td class="paramname"><em>old_dlg_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Entry point for SIP Replies </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a1ca5f6b9fda2ee17c2d7f453b96249db">AmSession</a>.</p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, <a class="el" href="classAmBasicSipDialog.html#a246ce04e27141a687cc4f914f0eac98b">AmBasicSipDialog::getStatus()</a>, <a class="el" href="AmUtils_8cpp.html#ac46bbc121c4737c1241555a6b7f0e05a">int2str()</a>, and <a class="el" href="classAmSession.html#a97433a220cc63b64b29979372868727b">AmSession::setStopped()</a>.</p>

</div>
</div>
<a class="anchor" id="a12aacfbb5cff483002d43998cec61228"></a><!-- doxytag: member="WebConferenceDialog::process" ref="a12aacfbb5cff483002d43998cec61228" args="(AmEvent *ev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classWebConferenceDialog.html#a12aacfbb5cff483002d43998cec61228">WebConferenceDialog::process</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAmEvent.html">AmEvent</a> *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAmEventHandler.html" title="event handler interface">AmEventHandler</a> </dd></dl>

<p>Reimplemented from <a class="el" href="classAmSession.html#a667b1f428feb33189aa569ca882ed757">AmSession</a>.</p>

<p>References <a class="el" href="classAmPromptCollection.html#a1d39ab44f8a7c1b7af5a73633bc9a504">AmPromptCollection::addToPlaylist()</a>, <a class="el" href="classAmSipDialog.html#aee6903b34a42c7d6ec7fd58936ddae2a">AmSipDialog::bye()</a>, <a class="el" href="classAmArg.html#ae61006944db4799cd96fd7eae0ec5ed8">AmArg::get()</a>, <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>, <a class="el" href="classAmSession.html#a97433a220cc63b64b29979372868727b">AmSession::setStopped()</a>, and <a class="el" href="classAmSession.html#af51362cbc11e8de8908fe4f59aa0dc18">AmSession::setTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a68362ca579ab088aea9c2a94785abe10"></a><!-- doxytag: member="WebConferenceDialog::readStreams" ref="a68362ca579ab088aea9c2a94785abe10" args="(unsigned long long ts, unsigned char *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classWebConferenceDialog.html#a68362ca579ab088aea9c2a94785abe10">WebConferenceDialog::readStreams</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read from all media streams.</p>
<p>To preserve current media processing scheme it is needed to read from all streams first and then write to them. This can be important for example in case of conferences where we need to have media from all streams ready for mixing them.</p>
<p>So the <a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a> first calls readStreams on all sessions and then writeStreams on all sessions.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ts</td><td>timestamp for which the processing is currently running</td></tr>
    <tr><td class="paramname">buffer</td><td>multi-purpose space given from outside (<a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a>)</td></tr>
  </table>
  </dd>
</dl>
<p>Buffer given as parametr is usable for anything, originally was intended for data read from one stream before putting to another stream.</p>
<p>The reason for having this buffer as parameter is that buffer size for audio processing is quite large (2K here) and thus allocating it on stack on some architectures may be problematic.</p>
<p>On other hand having the buffer dynamically allocated for each media session would significantly increase memory consumption per call.</p>
<p>So for now it seems to be the simplest way just to give the buffer as parameter from <a class="el" href="classAmMediaProcessorThread.html" title="Media processing thread.">AmMediaProcessorThread</a> and reuse it in all sessions handled by this thread (processing is done sequentially one session after another). </p>

<p>Reimplemented from <a class="el" href="classAmSession.html#a0be0d2ea796c8efc78fd203b1cff6b7c">AmSession</a>.</p>

<p>References <a class="el" href="classAmRtpAudio.html#aebdf1d43c71f871f477da59d1cf102b1">AmRtpAudio::get()</a>, <a class="el" href="classAmAudio.html#a0ff8e4b28dc0a2e8ffb64dfa8777a1cd">AmAudio::get()</a>, <a class="el" href="classAmSession.html#a11bcf7bc3296377cc23aad9aa3716a44">AmSession::lockAudio()</a>, <a class="el" href="classAmAudio.html#a3c117282fe294c107e9027a9054c9d42">AmAudio::put()</a>, and <a class="el" href="classAmSession.html#a7d61d1f81277c827d84f20e5d12d8756">AmSession::unlockAudio()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="WebConferenceDialog_8h_source.html">WebConferenceDialog.h</a></li>
<li>WebConferenceDialog.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
