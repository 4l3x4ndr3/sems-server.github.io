<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: Module Documentation: b2b_connect example Application</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Module Documentation: b2b_connect example Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="Readme_b2b_connect"></a>
Readme file</h2>
<div class="fragment"><pre class="fragment">b2b_connect application

This application is a full back2back user agent (i.e. both signaling and 
media is handled by SEMS and each user agent, caller and callee, only 
see the SEMs IP address).
Thus, the outgoing call is connected in B2BUA mode with media relay ('b2abua'),
so technically the two legs are independent sip dialogs and media sessions.

The outgoing calls (B leg) are optionally SIP authenticated, so for example,
normal gateways can be used. The uac_auth module must be loaded for this 
to work. If the uac_auth module is not loaded, the outgoing calls are not
authenticated.

P-App-Param in the INVITE sent to SEMS contains information required
to do the second call from SEMS to callee, together with the request URI.
The request URI username part should contain the user to call, while the
P-App-Param should contain the domain SEMS should add to the username, 
as well as credentials (if the outgoing call must be authenticated).

Example for SER:
R-URI: john@semsip:5070
append_hf("P-App-Param: u=semsuser;d=ser.mydomain.com:5060;p=password\r\n");

This will result in sems trying to set up a call to john@ser.mydomain.com:5060.
If a 407 Authentication required is received, semsuser and 'password' will be
used as credentials.

If b2b_connect.conf parameter transparent_destination is set to true
(default is false), then Request URI and To URI are passed to the second
leg unaltered.

Improvements are of course welcome as svn diff to the semsdev mailing
list.
</pre></div><h2><a class="anchor" id="Links"></a>
Links</h2>
<p>Back to <a class="el" href="AppDoc.html">Application Modules</a>, to <a class="el" href="AppDocExample.html">Example Applications</a>. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
