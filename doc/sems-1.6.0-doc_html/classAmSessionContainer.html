<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: AmSessionContainer Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">AmSessionContainer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="AmSessionContainer" --><!-- doxytag: inherits="AmThread" -->
<p>Centralized session container.  
 <a href="classAmSessionContainer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AmSessionContainer_8h_source.html">AmSessionContainer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AmSessionContainer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAmSessionContainer.png" usemap="#AmSessionContainer_map" alt=""/>
  <map id="AmSessionContainer_map" name="AmSessionContainer_map">
<area href="classAmThread.html" title="C++ Wrapper class for pthread." alt="AmThread" shape="rect" coords="0,0,129,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>AddSessionStatus</b> { <b>ShutDown</b>, 
<b>Inserted</b>, 
<b>AlreadyExist</b>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAmSession.html">AmSession</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a08e76c3d58d7d54beb006d13d6d5eb40">createSession</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req, string &amp;app_name, <a class="el" href="classAmArg.html">AmArg</a> *session_params=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AddSessionStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a4afdb493835ca3bf30e4a469ffa0e4a1">addSession</a> (const string &amp;callid, const string &amp;remote_tag, const string &amp;local_tag, const string &amp;via_branch, <a class="el" href="classAmSession.html">AmSession</a> *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AddSessionStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#ac869ff027b22fdeb9c7fef1ffd38a7b7">addSession</a> (const string &amp;local_tag, <a class="el" href="classAmSession.html">AmSession</a> *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a0c21d41ba8e6ea6cda75165b69ab1f1a">startSessionUAS</a> (<a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#ad96ed1f32ee0621f40d2cdfc8f8caa1d">startSessionUAC</a> (const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;req, string &amp;app_name, <a class="el" href="classAmArg.html">AmArg</a> *session_params=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a310836ad06d3e41113b9b5a47e7925fb">destroySession</a> (<a class="el" href="classAmSession.html">AmSession</a> *s)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a0c1dd4f56789fd373dfe67d301066c5a">postEvent</a> (const string &amp;callid, const string &amp;remote_tag, const string &amp;via_branch, <a class="el" href="structAmEvent.html">AmEvent</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#ada851d8b988d82e0de5e00660e8fefd0">postEvent</a> (const string &amp;local_tag, <a class="el" href="structAmEvent.html">AmEvent</a> *event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a8c75e5379310cc3a45732c6f44fd22d9">broadcastShutdown</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#afeeb55caa5d629d4005ce0a94b9295cd">enableUncleanShutdown</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a0d2163cf31562d46729b0cdd51d61f9b">setCPSLimit</a> (unsigned int limit)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a2069408b9cc46dc2914663f2d0323983">setCPSSoftLimit</a> (unsigned int percent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pair&lt; unsigned int, unsigned int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#afbcabec32539bd2ebca5dcf89f0499ab">getCPSLimit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a09f4524038c32e10de4c327603b144eb">getAvgCPS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAmSessionContainer.html#a30bfcc7ca902d2d6e431ae7ed59a68be">getMaxCPS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7432205d32991c77b4008010c4afc881"></a><!-- doxytag: member="AmSessionContainer::initMonitoring" ref="a7432205d32991c77b4008010c4afc881" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>initMonitoring</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad464d48c2e39c9354c744889353bbfd6"></a><!-- doxytag: member="AmSessionContainer::instance" ref="ad464d48c2e39c9354c744889353bbfd6" args="()" -->
static <a class="el" href="classAmSessionContainer.html">AmSessionContainer</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>instance</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa78e7a0fb18c552158550562d7662b7"></a><!-- doxytag: member="AmSessionContainer::dispose" ref="aaa78e7a0fb18c552158550562d7662b7" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>dispose</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca1197da23aab9991e62d325a74a6dc6"></a><!-- doxytag: member="AmSessionContainer::_MONITORING_DEFINE_INTERFACE" ref="aca1197da23aab9991e62d325a74a6dc6" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>_MONITORING_DEFINE_INTERFACE</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Centralized session container. </p>
<p>This is the register for all active and dead sessions. If has a deamon which wakes up only if it has work. Then, it kills all dead sessions and try to go to bed (it cannot sleep if one or more sessions are still alive). </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4afdb493835ca3bf30e4a469ffa0e4a1"></a><!-- doxytag: member="AmSessionContainer::addSession" ref="a4afdb493835ca3bf30e4a469ffa0e4a1" args="(const string &amp;callid, const string &amp;remote_tag, const string &amp;local_tag, const string &amp;via_branch, AmSession *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AmSessionContainer::AddSessionStatus <a class="el" href="classAmSessionContainer.html#a4afdb493835ca3bf30e4a469ffa0e4a1">AmSessionContainer::addSession</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>remote_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>local_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>via_branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSession.html">AmSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a session to the container (UAS only). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the session is new within the container. </dd></dl>

<p>Referenced by <a class="el" href="classAmSessionContainer.html#ad96ed1f32ee0621f40d2cdfc8f8caa1d">startSessionUAC()</a>, and <a class="el" href="classAmSessionContainer.html#a0c21d41ba8e6ea6cda75165b69ab1f1a">startSessionUAS()</a>.</p>

</div>
</div>
<a class="anchor" id="ac869ff027b22fdeb9c7fef1ffd38a7b7"></a><!-- doxytag: member="AmSessionContainer::addSession" ref="ac869ff027b22fdeb9c7fef1ffd38a7b7" args="(const string &amp;local_tag, AmSession *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AmSessionContainer::AddSessionStatus <a class="el" href="classAmSessionContainer.html#a4afdb493835ca3bf30e4a469ffa0e4a1">AmSessionContainer::addSession</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>local_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSession.html">AmSession</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a session to the container. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the session is new within the container. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c75e5379310cc3a45732c6f44fd22d9"></a><!-- doxytag: member="AmSessionContainer::broadcastShutdown" ref="a8c75e5379310cc3a45732c6f44fd22d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#a8c75e5379310cc3a45732c6f44fd22d9">AmSessionContainer::broadcastShutdown</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>broadcasts a server shutdown system event to all sessions </p>

<p>References <a class="el" href="classAmSession.html#a073095d2e8dd408bd80892d0eb69f642">AmSession::getSessionNum()</a>.</p>

</div>
</div>
<a class="anchor" id="a08e76c3d58d7d54beb006d13d6d5eb40"></a><!-- doxytag: member="AmSessionContainer::createSession" ref="a08e76c3d58d7d54beb006d13d6d5eb40" args="(const AmSipRequest &amp;req, string &amp;app_name, AmArg *session_params=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAmSession.html">AmSession</a> * <a class="el" href="classAmSessionContainer.html#a08e76c3d58d7d54beb006d13d6d5eb40">AmSessionContainer::createSession</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmArg.html">AmArg</a> *&#160;</td>
          <td class="paramname"><em>session_params</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new session. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>local request </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a new session or NULL on error. </dd></dl>

<p>References <a class="el" href="classAmPlugIn.html#a8d812218e0f4c7679b5be027a5a06484">AmPlugIn::findSessionFactory()</a>, <a class="el" href="classAmPlugIn.html#ad669e29b964b6a3bf5307f1dd95399b2">AmPlugIn::getFactory4App()</a>, <a class="el" href="classAmSessionFactory.html#a91066e38e56eebfd98bc0e4582632f07">AmSessionFactory::onInvite()</a>, <a class="el" href="classAmSessionFactory.html#acb8277fa0dd6c4d7fc75d695e1785761">AmSessionFactory::onRefer()</a>, <a class="el" href="AmUtils_8h.html#a614b062dcdb468c4504f6ededea045cc">parse_app_params()</a>, <a class="el" href="classAmBasicSipDialog.html#a173299c62d08cbb0f02efe443eacebc1">AmBasicSipDialog::reply_error()</a>, and <a class="el" href="classAmCondition.html#afcba52becdbdb85bb60f8b4f47a449e9">AmCondition&lt; T &gt;::set()</a>.</p>

<p>Referenced by <a class="el" href="classAmSessionContainer.html#ad96ed1f32ee0621f40d2cdfc8f8caa1d">startSessionUAC()</a>, and <a class="el" href="classAmSessionContainer.html#a0c21d41ba8e6ea6cda75165b69ab1f1a">startSessionUAS()</a>.</p>

</div>
</div>
<a class="anchor" id="a310836ad06d3e41113b9b5a47e7925fb"></a><!-- doxytag: member="AmSessionContainer::destroySession" ref="a310836ad06d3e41113b9b5a47e7925fb" args="(AmSession *s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#a310836ad06d3e41113b9b5a47e7925fb">AmSessionContainer::destroySession</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSession.html">AmSession</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Detroys a session. </p>

<p>References <a class="el" href="classAmSession.html#a2bc9fd877d1880f80bc636620359c202">AmSession::getLocalTag()</a>.</p>

<p>Referenced by <a class="el" href="classAmSession.html#a3bb9f628ebf3836ecf7baac092e4b502">AmSession::destroy()</a>.</p>

</div>
</div>
<a class="anchor" id="afeeb55caa5d629d4005ce0a94b9295cd"></a><!-- doxytag: member="AmSessionContainer::enableUncleanShutdown" ref="afeeb55caa5d629d4005ce0a94b9295cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#afeeb55caa5d629d4005ce0a94b9295cd">AmSessionContainer::enableUncleanShutdown</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>enable unclean shutdown (will not broadcastShutdown event) </p>

</div>
</div>
<a class="anchor" id="a09f4524038c32e10de4c327603b144eb"></a><!-- doxytag: member="AmSessionContainer::getAvgCPS" ref="a09f4524038c32e10de4c327603b144eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classAmSessionContainer.html#a09f4524038c32e10de4c327603b144eb">AmSessionContainer::getAvgCPS</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the timeaverage of calls per second in the last CPS_SAMPLERATE sec window </p>

</div>
</div>
<a class="anchor" id="afbcabec32539bd2ebca5dcf89f0499ab"></a><!-- doxytag: member="AmSessionContainer::getCPSLimit" ref="afbcabec32539bd2ebca5dcf89f0499ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pair&lt; unsigned int, unsigned int &gt; <a class="el" href="classAmSessionContainer.html#afbcabec32539bd2ebca5dcf89f0499ab">AmSessionContainer::getCPSLimit</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the maximum number of calls per second to be accepted </p>

</div>
</div>
<a class="anchor" id="a30bfcc7ca902d2d6e431ae7ed59a68be"></a><!-- doxytag: member="AmSessionContainer::getMaxCPS" ref="a30bfcc7ca902d2d6e431ae7ed59a68be" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classAmSessionContainer.html#a30bfcc7ca902d2d6e431ae7ed59a68be">AmSessionContainer::getMaxCPS</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the maximum of calls per second since last query </p>

</div>
</div>
<a class="anchor" id="a0c1dd4f56789fd373dfe67d301066c5a"></a><!-- doxytag: member="AmSessionContainer::postEvent" ref="a0c1dd4f56789fd373dfe67d301066c5a" args="(const string &amp;callid, const string &amp;remote_tag, const string &amp;via_branch, AmEvent *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classAmSessionContainer.html#a0c1dd4f56789fd373dfe67d301066c5a">AmSessionContainer::postEvent</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>callid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>remote_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>via_branch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAmEvent.html">AmEvent</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>post an event into the event queue of the identified dialog. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if session doesn't exist </dd></dl>

<p>Referenced by <a class="el" href="classConferenceDialog.html#a065181ed652d4a5f185134b217baed93">ConferenceDialog::onDtmf()</a>, <a class="el" href="classAmSipSubscriptionDialog.html#ac3b5063e7c60443114c64263099591c8">AmSipSubscriptionDialog::onNotify()</a>, <a class="el" href="classConferenceDialog.html#ab86cb8cd2256be0cae0d9d530e272dc8">ConferenceDialog::onSessionStart()</a>, <a class="el" href="classConferenceDialog.html#add561cf0fe36a5996095aba92e97734a">ConferenceDialog::onSipReply()</a>, <a class="el" href="classAmB2ABSession.html#a38974ad77ffafd900ae587ce3c343a1f">AmB2ABSession::relayEvent()</a>, <a class="el" href="classAmB2BSession.html#a5b7258b4941b9509098a15a810fa8f7a">AmB2BSession::relayEvent()</a>, and <a class="el" href="classAmSession.html#a97433a220cc63b64b29979372868727b">AmSession::setStopped()</a>.</p>

</div>
</div>
<a class="anchor" id="ada851d8b988d82e0de5e00660e8fefd0"></a><!-- doxytag: member="AmSessionContainer::postEvent" ref="ada851d8b988d82e0de5e00660e8fefd0" args="(const string &amp;local_tag, AmEvent *event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classAmSessionContainer.html#a0c1dd4f56789fd373dfe67d301066c5a">AmSessionContainer::postEvent</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>local_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAmEvent.html">AmEvent</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>post a generic event into the event queue of the identified dialog. sess_key is local_tag (to_tag) note: if hash_str is known, use postGenericEvent(hash_str,sess_key,event); for better performance. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>false if session doesn't exist </dd></dl>

</div>
</div>
<a class="anchor" id="a0d2163cf31562d46729b0cdd51d61f9b"></a><!-- doxytag: member="AmSessionContainer::setCPSLimit" ref="a0d2163cf31562d46729b0cdd51d61f9b" args="(unsigned int limit)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#a0d2163cf31562d46729b0cdd51d61f9b">AmSessionContainer::setCPSLimit</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the maximum number of calls per second to be accepted </p>

<p>Referenced by <a class="el" href="structAmConfig.html#a954887983a06e956ea6da234cccfff29">AmConfig::readConfiguration()</a>.</p>

</div>
</div>
<a class="anchor" id="a2069408b9cc46dc2914663f2d0323983"></a><!-- doxytag: member="AmSessionContainer::setCPSSoftLimit" ref="a2069408b9cc46dc2914663f2d0323983" args="(unsigned int percent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#a2069408b9cc46dc2914663f2d0323983">AmSessionContainer::setCPSSoftLimit</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>percent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the maximum number of calls per second to be accepted as a percent of the current CPS. Intented to be used by the components. 0 means turning off the soft limit. </p>

</div>
</div>
<a class="anchor" id="ad96ed1f32ee0621f40d2cdfc8f8caa1d"></a><!-- doxytag: member="AmSessionContainer::startSessionUAC" ref="ad96ed1f32ee0621f40d2cdfc8f8caa1d" args="(const AmSipRequest &amp;req, string &amp;app_name, AmArg *session_params=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string <a class="el" href="classAmSessionContainer.html#ad96ed1f32ee0621f40d2cdfc8f8caa1d">AmSessionContainer::startSessionUAC</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>app_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmArg.html">AmArg</a> *&#160;</td>
          <td class="paramname"><em>session_params</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new session and adds it to the active session container. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>client's request </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classAmSessionContainer.html#a4afdb493835ca3bf30e4a469ffa0e4a1">addSession()</a>, and <a class="el" href="classAmSessionContainer.html#a08e76c3d58d7d54beb006d13d6d5eb40">createSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c21d41ba8e6ea6cda75165b69ab1f1a"></a><!-- doxytag: member="AmSessionContainer::startSessionUAS" ref="a0c21d41ba8e6ea6cda75165b69ab1f1a" args="(AmSipRequest &amp;req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAmSessionContainer.html#a0c21d41ba8e6ea6cda75165b69ab1f1a">AmSessionContainer::startSessionUAS</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmSipRequest.html">AmSipRequest</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructs a new session and adds it to the active session container. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>client's request </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="classAmSessionContainer.html#a4afdb493835ca3bf30e4a469ffa0e4a1">addSession()</a>, <a class="el" href="classAmSessionContainer.html#a08e76c3d58d7d54beb006d13d6d5eb40">createSession()</a>, and <a class="el" href="classAmBasicSipDialog.html#a173299c62d08cbb0f02efe443eacebc1">AmBasicSipDialog::reply_error()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AmSessionContainer_8h_source.html">AmSessionContainer.h</a></li>
<li>AmSessionContainer.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
