<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: Module Documentation: mailbox Application</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">Module Documentation: mailbox Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="Readme_mailbox"></a>
Readme file</h2>
<div class="fragment"><pre class="fragment">Documentation for SEMS mailbox application

The mailbox application is a mailbox where callers can leave messages 
for offline or unavailable users and the users can dial in to check their
messages. It uses an IMAP server as backend to store the voice messages.

The mailbox comes with two applications which run in the ivr:

mailbox        -  the application to leave a message
mailbox_query  -  the application to listen to the messages


Configuration Parameters
========================
mailbox.conf:
   annoucement_file     -    prompt to be played to caller before 
                             message is recorded
   beep_file            -    beep to be played after prompt

mailbox_query.conf:
   wav_dir              -    directory which contains wav files for
                             menu

Session Parameters (In P-Iptel-Param headers)
=============================================

mailbox:

 Mailbox-URL      -  IMAP URL to the mailbox

mailbox_query:

 Mailbox-URL      -  IMAP URL to the mailbox



Example for ser.cfg
===================

# for all INVITEs that should go to mailbox
#
        # replace this with a function that loads imap url e.g. from DB
        # into $mailbox_url AVP
	avp_write("Mailbox-URL=imap://user:password@imapserver:143/INBOX",
		  "$mailbox_url");

	append_hf_value("P-App-Name","mailbox");
       	append_hf_value("P-App-Param","%$mailbox_url");

	# assume that SEMS is running at localhost:5080
	t_relay_to("udp:localhost:5080");
	break;
</pre></div><h2><a class="anchor" id="Links"></a>
Links</h2>
<p>Back to <a class="el" href="AppDoc.html">Application Modules</a>, to <a class="el" href="AppDocExample.html">Example Applications</a>. </p>
</div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
