<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SEMS: AudioStreamData Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SEMS
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">AudioStreamData Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="AudioStreamData" -->
<p>Storage for several data items required to be held with one RTP stream for B2B media processing.  
 <a href="classAudioStreamData.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AmB2BMedia_8h_source.html">AmB2BMedia.h</a>&gt;</code></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a838fc37a53cb52c8afbf7e810c9c924a">AudioStreamData</a> (<a class="el" href="classAmB2BSession.html">AmB2BSession</a> *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a05f2ca4d46d24cee366518d74ebeccd9">changeSession</a> (<a class="el" href="classAmB2BSession.html">AmB2BSession</a> *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a300ea86bbac39ae9dfcad4a89b351809">setDtmfSink</a> (<a class="el" href="classAmDtmfSink.html">AmDtmfSink</a> *dtmf_sink)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a7cd438fa5c01d06850feca276a196a95">clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a89d91bc122babea5bc8418dd32656f31">stopStreamProcessing</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#aece3232d6535a430b09ce2b8f57fea54">resumeStreamProcessing</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#af2dacc41b209c9f971118cac1aefa823">setRelayStream</a> (<a class="el" href="classAmRtpStream.html">AmRtpStream</a> *other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a0a1bf02310cc64e0038193bac72221d0">setRelayPayloads</a> (const <a class="el" href="structSdpMedia.html">SdpMedia</a> &amp;m, <a class="el" href="classRelayController.html">RelayController</a> *ctrl)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a074765d63a94b9034bcc4beaa9a5e7b9"></a><!-- doxytag: member="AudioStreamData::setRelayDestination" ref="a074765d63a94b9034bcc4beaa9a5e7b9" args="(const string &amp;connection_address, int port)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setRelayDestination</b> (const string &amp;connection_address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a76a0728ffd6360c100c68f506ad86118">setRelayPaused</a> (bool paused)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#ade6e352d72e1d7edd31702cc5e14c4cb">initStream</a> (PlayoutType playout_type, <a class="el" href="classAmSdp.html">AmSdp</a> &amp;local_sdp, <a class="el" href="classAmSdp.html">AmSdp</a> &amp;remote_sdp, int media_idx)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a5c224d8f9d965cfbeeb329971bc0d31d">processDtmfEvents</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a35dd0ef10551693d4030e33e68412ac1">sendDtmf</a> (int event, unsigned int duration_ms)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAudioStreamData.html#a1fcff9a4a0053d8fde74d8d8bf8227df">writeStream</a> (unsigned long long ts, unsigned char *buffer, <a class="el" href="classAudioStreamData.html">AudioStreamData</a> &amp;src)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2927da613aa2e02ed42291ac8e29454b"></a><!-- doxytag: member="AudioStreamData::clearRTPTimeout" ref="a2927da613aa2e02ed42291ac8e29454b" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearRTPTimeout</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a683647b19585168366cd6be45da32d2b"></a><!-- doxytag: member="AudioStreamData::getLocalPort" ref="a683647b19585168366cd6be45da32d2b" args="()" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>getLocalPort</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac57f9588c7e433d527d9cb9fca97525f"></a><!-- doxytag: member="AudioStreamData::getLocalRtcpPort" ref="ac57f9588c7e433d527d9cb9fca97525f" args="()" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>getLocalRtcpPort</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dc18cf4624b1e257f7d7afe465982fc"></a><!-- doxytag: member="AudioStreamData::setLocalIP" ref="a2dc18cf4624b1e257f7d7afe465982fc" args="(const string &amp;ip)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLocalIP</b> (const string &amp;ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f83598e05890a8ed5e143bfdb893154"></a><!-- doxytag: member="AudioStreamData::getStream" ref="a5f83598e05890a8ed5e143bfdb893154" args="()" -->
<a class="el" href="classAmRtpAudio.html">AmRtpAudio</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getStream</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd5125b2b2ab755ced4a86710b1257b4"></a><!-- doxytag: member="AudioStreamData::isInitialized" ref="abd5125b2b2ab755ced4a86710b1257b4" args="()" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isInitialized</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18e393a5057ac52a76b7a905475d08ec"></a><!-- doxytag: member="AudioStreamData::getSdpOffer" ref="a18e393a5057ac52a76b7a905475d08ec" args="(int media_idx, SdpMedia &amp;m)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>getSdpOffer</b> (int media_idx, <a class="el" href="structSdpMedia.html">SdpMedia</a> &amp;m)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4501ccbb4390888628a8aef84f447e43"></a><!-- doxytag: member="AudioStreamData::getSdpAnswer" ref="a4501ccbb4390888628a8aef84f447e43" args="(int media_idx, const SdpMedia &amp;offer, SdpMedia &amp;answer)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>getSdpAnswer</b> (int media_idx, const <a class="el" href="structSdpMedia.html">SdpMedia</a> &amp;offer, <a class="el" href="structSdpMedia.html">SdpMedia</a> &amp;answer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc65282d17cfd7163f1d6e7425933e9e"></a><!-- doxytag: member="AudioStreamData::mute" ref="abc65282d17cfd7163f1d6e7425933e9e" args="(bool set_mute)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>mute</b> (bool set_mute)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba8222d1d188aa9593a04fc700223472"></a><!-- doxytag: member="AudioStreamData::setReceiving" ref="aba8222d1d188aa9593a04fc700223472" args="(bool r)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setReceiving</b> (bool r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71342d04730f956ed2354a4239261733"></a><!-- doxytag: member="AudioStreamData::setInput" ref="a71342d04730f956ed2354a4239261733" args="(AmAudio *_in)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setInput</b> (<a class="el" href="classAmAudio.html">AmAudio</a> *_in)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9aeba8775072c724a748544f1e7b310b"></a><!-- doxytag: member="AudioStreamData::getInput" ref="a9aeba8775072c724a748544f1e7b310b" args="()" -->
<a class="el" href="classAmAudio.html">AmAudio</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getInput</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e7cc16cb46007944c0d3fa133518e9c"></a><!-- doxytag: member="AudioStreamData::setLogger" ref="a1e7cc16cb46007944c0d3fa133518e9c" args="(msg_logger *logger)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>setLogger</b> (<a class="el" href="classmsg__logger.html">msg_logger</a> *logger)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdad2d306ac861aff3558463f8ea0616"></a><!-- doxytag: member="AudioStreamData::debug" ref="afdad2d306ac861aff3558463f8ea0616" args="()" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>debug</b> ()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Storage for several data items required to be held with one RTP stream for B2B media processing. </p>
<p>It has shown that there are more items to be remembered with one RTP stream so this class is an attempt to encapsulate them together and make the code better manageable (less duplicates - the same things were often done for A leg stuff and then for B leg stuff). </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a838fc37a53cb52c8afbf7e810c9c924a"></a><!-- doxytag: member="AudioStreamData::AudioStreamData" ref="a838fc37a53cb52c8afbf7e810c9c924a" args="(AmB2BSession *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAudioStreamData.html#a838fc37a53cb52c8afbf7e810c9c924a">AudioStreamData::AudioStreamData</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmB2BSession.html">AmB2BSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates data based on associated signaling leg data. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a05f2ca4d46d24cee366518d74ebeccd9"></a><!-- doxytag: member="AudioStreamData::changeSession" ref="a05f2ca4d46d24cee366518d74ebeccd9" args="(AmB2BSession *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a05f2ca4d46d24cee366518d74ebeccd9">AudioStreamData::changeSession</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmB2BSession.html">AmB2BSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>we want to preserve existing streams (relay streams already set, ports already used in outgoing SDP </p>

<p>References <a class="el" href="classAmRtpStream.html#a972db7a7d50e4d3da10a41b1002b0bbb">AmRtpStream::changeSession()</a>, and <a class="el" href="classAudioStreamData.html#a7cd438fa5c01d06850feca276a196a95">clear()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cd438fa5c01d06850feca276a196a95"></a><!-- doxytag: member="AudioStreamData::clear" ref="a7cd438fa5c01d06850feca276a196a95" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a7cd438fa5c01d06850feca276a196a95">AudioStreamData::clear</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees all allocated data.</p>
<p>Stream and its peer (relay stream) must be removed from processing before calling this method! This method doesn't call <a class="el" href="classAudioStreamData.html#a89d91bc122babea5bc8418dd32656f31">stopStreamProcessing()</a> itself because of the stream here is used as relay stream in the other leg. Before freeing current stream the other one has to be removed from processing as well.</p>
<p>Please note that the "in" member is freed - this need not to be the right thing but this will show once it will be really used. </p>

<p>Referenced by <a class="el" href="classAudioStreamData.html#a05f2ca4d46d24cee366518d74ebeccd9">changeSession()</a>.</p>

</div>
</div>
<a class="anchor" id="ade6e352d72e1d7edd31702cc5e14c4cb"></a><!-- doxytag: member="AudioStreamData::initStream" ref="ade6e352d72e1d7edd31702cc5e14c4cb" args="(PlayoutType playout_type, AmSdp &amp;local_sdp, AmSdp &amp;remote_sdp, int media_idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classAudioStreamData.html#ade6e352d72e1d7edd31702cc5e14c4cb">AudioStreamData::initStream</a> </td>
          <td>(</td>
          <td class="paramtype">PlayoutType&#160;</td>
          <td class="paramname"><em>playout_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>local_sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAmSdp.html">AmSdp</a> &amp;&#160;</td>
          <td class="paramname"><em>remote_sdp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>media_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>initialize given stream for transcoding &amp; regular audio processing</p>
<p>Returns false if the initialization failed (might happen for example if we are not able to handle the remote payloads by ourselves; anyway relaying could be still available in this case). </p>

<p>References <a class="el" href="classAmRtpAudio.html#a80ec3a30762bcebdf817a4d8e876472b">AmRtpAudio::init()</a>, <a class="el" href="classAmRtpStream.html#a61af8b93e0768883d0b6552867cd3a90">AmRtpStream::setOnHold()</a>, and <a class="el" href="classAmRtpStream.html#a25619f179705fe6dc832cbaf8ed82f34">AmRtpStream::setReceiving()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c224d8f9d965cfbeeb329971bc0d31d"></a><!-- doxytag: member="AudioStreamData::processDtmfEvents" ref="a5c224d8f9d965cfbeeb329971bc0d31d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a5c224d8f9d965cfbeeb329971bc0d31d">AudioStreamData::processDtmfEvents</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes raw DTMF events in own queue. </p>

<p>References <a class="el" href="classAmDtmfEventQueue.html#aa45a41d65bed6de2cb9b15684e75d9e6">AmDtmfEventQueue::processEvents()</a>.</p>

</div>
</div>
<a class="anchor" id="aece3232d6535a430b09ce2b8f57fea54"></a><!-- doxytag: member="AudioStreamData::resumeStreamProcessing" ref="aece3232d6535a430b09ce2b8f57fea54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#aece3232d6535a430b09ce2b8f57fea54">AudioStreamData::resumeStreamProcessing</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns stream from processing by AmRtpReceiver if it was already there. </p>

<p>References <a class="el" href="classAmRtpStream.html#aa36450b8a46035df6ef7a1e57d9bac49">AmRtpStream::resumeReceiving()</a>.</p>

</div>
</div>
<a class="anchor" id="a35dd0ef10551693d4030e33e68412ac1"></a><!-- doxytag: member="AudioStreamData::sendDtmf" ref="a35dd0ef10551693d4030e33e68412ac1" args="(int event, unsigned int duration_ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a35dd0ef10551693d4030e33e68412ac1">AudioStreamData::sendDtmf</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>duration_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sends DTMF </p>

<p>References <a class="el" href="classAmRtpStream.html#a10cf1611ea1f7e528edb997ce3be1213">AmRtpStream::sendDtmf()</a>.</p>

</div>
</div>
<a class="anchor" id="a300ea86bbac39ae9dfcad4a89b351809"></a><!-- doxytag: member="AudioStreamData::setDtmfSink" ref="a300ea86bbac39ae9dfcad4a89b351809" args="(AmDtmfSink *dtmf_sink)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a300ea86bbac39ae9dfcad4a89b351809">AudioStreamData::setDtmfSink</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmDtmfSink.html">AmDtmfSink</a> *&#160;</td>
          <td class="paramname"><em>dtmf_sink</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>release old and store new DTMF sink </p>

</div>
</div>
<a class="anchor" id="a76a0728ffd6360c100c68f506ad86118"></a><!-- doxytag: member="AudioStreamData::setRelayPaused" ref="a76a0728ffd6360c100c68f506ad86118" args="(bool paused)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a76a0728ffd6360c100c68f506ad86118">AudioStreamData::setRelayPaused</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>paused</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set relay temporarily to paused (stream relation may still be up) </p>

<p>References <a class="el" href="classAmRtpStream.html#af661987cd4c0edf9df6da00658711e3a">AmRtpStream::disableRtpRelay()</a>, and <a class="el" href="classAmRtpStream.html#a7deea0bf3ce414afbfd5bafa083daf54">AmRtpStream::enableRtpRelay()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a1bf02310cc64e0038193bac72221d0"></a><!-- doxytag: member="AudioStreamData::setRelayPayloads" ref="a0a1bf02310cc64e0038193bac72221d0" args="(const SdpMedia &amp;m, RelayController *ctrl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a0a1bf02310cc64e0038193bac72221d0">AudioStreamData::setRelayPayloads</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSdpMedia.html">SdpMedia</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRelayController.html">RelayController</a> *&#160;</td>
          <td class="paramname"><em>ctrl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>computes and stores payloads that can be relayed based on the corresponding 'peer session' remote media line (i.e. what accepts the other remote end directly) </p>

</div>
</div>
<a class="anchor" id="af2dacc41b209c9f971118cac1aefa823"></a><!-- doxytag: member="AudioStreamData::setRelayStream" ref="af2dacc41b209c9f971118cac1aefa823" args="(AmRtpStream *other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#af2dacc41b209c9f971118cac1aefa823">AudioStreamData::setRelayStream</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAmRtpStream.html">AmRtpStream</a> *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set relay stream and payload IDs to be relayed.</p>
<p>Removes the stream from AmRtpReceiver before updating and returns it back once done. </p>

<p>References <a class="el" href="classAmRtpStream.html#af661987cd4c0edf9df6da00658711e3a">AmRtpStream::disableRtpRelay()</a>, <a class="el" href="classAmRtpStream.html#a7deea0bf3ce414afbfd5bafa083daf54">AmRtpStream::enableRtpRelay()</a>, <a class="el" href="classAmRtpStream.html#adaf4298700d82aa5580bc15f789116bd">AmRtpStream::setRAddr()</a>, <a class="el" href="classAmRtpStream.html#aca21206920b2b3ba77414b88cdbc7acf">AmRtpStream::setRelayPayloads()</a>, and <a class="el" href="classAmRtpStream.html#a0cc5ff0c37635bbe605b5ff451846fac">AmRtpStream::setRelayStream()</a>.</p>

</div>
</div>
<a class="anchor" id="a89d91bc122babea5bc8418dd32656f31"></a><!-- doxytag: member="AudioStreamData::stopStreamProcessing" ref="a89d91bc122babea5bc8418dd32656f31" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classAudioStreamData.html#a89d91bc122babea5bc8418dd32656f31">AudioStreamData::stopStreamProcessing</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes stream from processing by AmRtpReceiver. </p>

<p>References <a class="el" href="classAmRtpStream.html#aa284fb2fd7bfe50310201cba7493fcd5">AmRtpStream::stopReceiving()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fcff9a4a0053d8fde74d8d8bf8227df"></a><!-- doxytag: member="AudioStreamData::writeStream" ref="a1fcff9a4a0053d8fde74d8d8bf8227df" args="(unsigned long long ts, unsigned char *buffer, AudioStreamData &amp;src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classAudioStreamData.html#a1fcff9a4a0053d8fde74d8d8bf8227df">AudioStreamData::writeStream</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAudioStreamData.html">AudioStreamData</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes data to won stream. Data are read either from local alternative input (in) or from stream given by src parameter.</p>
<p>Buffer is just space used to read data before writing them, <a class="el" href="classAmMediaProcessor.html" title="Media processing thread manager.">AmMediaProcessor</a> buffer should be propagated here (see <a class="el" href="classAmMediaSession.html">AmMediaSession</a>) </p>

<p>References <a class="el" href="classAmRtpAudio.html#aebdf1d43c71f871f477da59d1cf102b1">AmRtpAudio::get()</a>, <a class="el" href="classAmAudio.html#a0ff8e4b28dc0a2e8ffb64dfa8777a1cd">AmAudio::get()</a>, <a class="el" href="classAmRtpStream.html#aa981b69ef442c77e4fede8a544c74716">AmRtpStream::getOnHold()</a>, and <a class="el" href="classAmRtpAudio.html#a4812090367272484ceb6406313d22ad6">AmRtpAudio::put()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="AmB2BMedia_8h_source.html">AmB2BMedia.h</a></li>
<li>AmB2BMedia.cpp</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
